2025-03-08 19:02:48 [INFO]: Server is running on http://localhost:9000
2025-03-08 19:02:48 [INFO]: Connected to MySQL database.
2025-03-08 19:11:03 [INFO]: Webhook verified successfully.
2025-03-08 19:11:25 [INFO]: Message details:
2025-03-08 19:11:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:11:25 [INFO]: Fetched client ID:
2025-03-08 19:11:25 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:11:25 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:11:25 [INFO]: Query results:
2025-03-08 19:11:25 [INFO]: Fetched POC details:
2025-03-08 19:11:25 [INFO]: Handling user view for: 919094995418
2025-03-08 19:11:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:11:25 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:11:25 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:11:26 [INFO]: Message sent successfully
2025-03-08 19:11:26 [INFO]: Welcome message sent to 919094995418
2025-03-08 19:11:26 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-03-08 19:11:26 [INFO]: Query executed successfully. 3 row(s) returned.
2025-03-08 19:11:26 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-03-08 19:11:26 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:26 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:28 [DEBUG]: Image uploaded successfully:
2025-03-08 19:11:29 [INFO]: Interactive message sent successfully
2025-03-08 19:11:29 [INFO]: Main menu sent to 919094995418
2025-03-08 19:11:29 [INFO]: user Id: 1
2025-03-08 19:11:33 [INFO]: Message details:
2025-03-08 19:11:33 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:11:33 [INFO]: Fetched client ID:
2025-03-08 19:11:33 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:11:33 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:11:33 [INFO]: Query results:
2025-03-08 19:11:33 [INFO]: Fetched POC details:
2025-03-08 19:11:33 [INFO]: Handling user view for: 919094995418
2025-03-08 19:11:33 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:11:33 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-03-08 19:11:33 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:11:33 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-03-08 19:11:33 [INFO]: Appointment id: 63
2025-03-08 19:11:33 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-03-08 19:11:33 [INFO]: Query executed successfully. 4 row(s) returned.
2025-03-08 19:11:33 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:33 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:33 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:33 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:11:33 [INFO]: Radio button message sent successfully
2025-03-08 19:11:34 [INFO]: Interactive message sent successfully
2025-03-08 19:11:34 [INFO]: Back button sent to 919094995418
2025-03-08 19:11:46 [INFO]: Message details:
2025-03-08 19:11:46 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:11:46 [INFO]: Fetched client ID:
2025-03-08 19:11:46 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:11:46 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:11:46 [INFO]: Query results:
2025-03-08 19:11:46 [INFO]: Fetched POC details:
2025-03-08 19:11:46 [INFO]: Handling user view for: 919094995418
2025-03-08 19:11:46 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:11:46 [INFO]: Title: Direct Consultation ID: 1~6~undefined~63,1~1~1
2025-03-08 19:11:46 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:11:46 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-03-08 19:11:46 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:11:46 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-03-08 19:11:46 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 63
2025-03-08 19:11:46 [DEBUG]: Executing query for Appointment_ID: 63, Column: Appointment_Type, Value: Direct Consultation
2025-03-08 19:11:46 [INFO]: Appointment updated successfully
2025-03-08 19:11:46 [INFO]: Appointment updated successfully
2025-03-08 19:11:46 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-03-08 19:11:46 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-03-08 19:11:46 [INFO]: Query results:
2025-03-08 19:11:47 [INFO]: Radio button message sent successfully
2025-03-08 19:11:47 [INFO]: Interactive message sent successfully
2025-03-08 19:11:47 [INFO]: Back button sent to 919094995418
2025-03-08 19:11:56 [INFO]: Message details:
2025-03-08 19:11:56 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:11:56 [INFO]: Fetched client ID:
2025-03-08 19:11:56 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:11:56 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:11:56 [INFO]: Query results:
2025-03-08 19:11:56 [INFO]: Fetched POC details:
2025-03-08 19:11:56 [INFO]: Handling user view for: 919094995418
2025-03-08 19:11:56 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:11:56 [INFO]: Title: Cardiology ID: 1~16~1~63,1~6~undefined
2025-03-08 19:11:56 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:11:56 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-03-08 19:11:56 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:11:56 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-03-08 19:11:56 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 63
2025-03-08 19:11:56 [DEBUG]: Executing query for Appointment_ID: 63, Key: Department
2025-03-08 19:11:56 [INFO]: JSON data updated successfully
2025-03-08 19:11:56 [INFO]: JSON data updated successfully
2025-03-08 19:11:56 [INFO]: Appointment updated successfully
2025-03-08 19:11:56 [DEBUG]: Executing query for Appointment_ID: 63, Key: Department
2025-03-08 19:11:56 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-03-08 19:11:56 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-03-08 19:11:56 [INFO]: Query results:
2025-03-08 19:11:57 [INFO]: Radio button message sent successfully
2025-03-08 19:11:57 [INFO]: Interactive message sent successfully
2025-03-08 19:11:57 [INFO]: Back button sent to 919094995418
2025-03-08 19:13:00 [INFO]: Message details:
2025-03-08 19:13:00 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:00 [INFO]: Fetched client ID:
2025-03-08 19:13:00 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:00 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:00 [INFO]: Query results:
2025-03-08 19:13:00 [INFO]: Fetched POC details:
2025-03-08 19:13:00 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:00 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:00 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~63,1~16~1
2025-03-08 19:13:00 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:00 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-03-08 19:13:00 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:00 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-03-08 19:13:00 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 63
2025-03-08 19:13:00 [DEBUG]: Executing query for Appointment_ID: 63, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-03-08 19:13:00 [INFO]: POC ID and JSON data updated successfully
2025-03-08 19:13:00 [INFO]: Appointment updated successfully
2025-03-08 19:13:00 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-03-08 19:13:00 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-03-08 19:13:00 [INFO]: Radio button message sent successfully
2025-03-08 19:13:01 [INFO]: Interactive message sent successfully
2025-03-08 19:13:01 [INFO]: Back button sent to 919094995418
2025-03-08 19:13:13 [INFO]: Message details:
2025-03-08 19:13:13 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:13 [INFO]: Fetched client ID:
2025-03-08 19:13:13 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:13 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:13 [INFO]: Query results:
2025-03-08 19:13:13 [INFO]: Fetched POC details:
2025-03-08 19:13:13 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:13 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:13 [INFO]: Title: 2025-03-10 ID: 1~18~1-2025-03-10~63,1~17~1
2025-03-08 19:13:13 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:13 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-03-08 19:13:13 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:13 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-03-08 19:13:13 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-03-10 iSelectId: 1-2025-03-10 appointment_id: 63
2025-03-08 19:13:13 [DEBUG]: Executing query for Appointment_ID: 63, Column: Appointment_Date, Value: 2025-03-10
2025-03-08 19:13:13 [INFO]: Appointment updated successfully
2025-03-08 19:13:13 [INFO]: Appointment updated successfully
2025-03-08 19:13:13 [DEBUG]: Executing query for Appointment_ID: 63, Key: Appointment_Date
2025-03-08 19:13:13 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-03-10, iValue: 2025-03-10
2025-03-08 19:13:13 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-03-10, Schedule_Date: 2025-03-10
2025-03-08 19:13:14 [INFO]: Radio button message sent successfully
2025-03-08 19:13:14 [INFO]: Interactive message sent successfully
2025-03-08 19:13:14 [INFO]: Back button sent to 919094995418
2025-03-08 19:13:20 [INFO]: Message details:
2025-03-08 19:13:20 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:20 [INFO]: Fetched client ID:
2025-03-08 19:13:20 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:20 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:20 [INFO]: Query results:
2025-03-08 19:13:20 [INFO]: Fetched POC details:
2025-03-08 19:13:20 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:20 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:20 [INFO]: Title: 10:00:00 ID: 1~19~1-2025-03-10-10:00:00~63,1~18~1-2025-03-10
2025-03-08 19:13:20 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:20 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-03-08 19:13:20 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:20 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-03-08 19:13:20 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:10:00:00 iSelectId: 1-2025-03-10-10:00:00 appointment_id: 63
2025-03-08 19:13:20 [DEBUG]: Executing query for Appointment_ID: 63, Column: Appointment_Time, Value: 10:00:00
2025-03-08 19:13:20 [INFO]: Appointment updated successfully
2025-03-08 19:13:20 [INFO]: Appointment updated successfully
2025-03-08 19:13:20 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-03-08 19:13:20 [DEBUG]: Executing query for Appointment_ID: 63
2025-03-08 19:13:21 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-03-10",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:13:21 [INFO]: Message sent successfully
2025-03-08 19:13:22 [INFO]: Radio button message sent successfully
2025-03-08 19:13:22 [INFO]: Interactive message sent successfully
2025-03-08 19:13:22 [INFO]: Back button sent to 919094995418
2025-03-08 19:13:35 [INFO]: Message details:
2025-03-08 19:13:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:35 [INFO]: Fetched client ID:
2025-03-08 19:13:35 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:35 [INFO]: Query results:
2025-03-08 19:13:35 [INFO]: Fetched POC details:
2025-03-08 19:13:35 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:35 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:35 [INFO]: Title: Confirm ID: 1~20~Confirm~63,1~19~1-2025-03-10-10:00:00
2025-03-08 19:13:35 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-03-08 19:13:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-03-08 19:13:35 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 63
2025-03-08 19:13:35 [DEBUG]: Executing query for Appointment_ID: 63, Key: Confirm_Status
2025-03-08 19:13:35 [INFO]: JSON data updated successfully
2025-03-08 19:13:35 [INFO]: JSON data updated successfully
2025-03-08 19:13:35 [INFO]: Appointment updated successfully
2025-03-08 19:13:36 [INFO]: Message sent successfully
2025-03-08 19:13:36 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-03-08 19:13:37 [INFO]: Message sent successfully
2025-03-08 19:13:38 [INFO]: Message sent successfully
2025-03-08 19:13:38 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-03-08 19:13:38 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:38 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-03-08 19:13:38 [INFO]: Interactive message sent successfully
2025-03-08 19:13:42 [INFO]: Message details:
2025-03-08 19:13:42 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:42 [INFO]: Fetched client ID:
2025-03-08 19:13:42 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:42 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:42 [INFO]: Query results:
2025-03-08 19:13:42 [INFO]: Fetched POC details:
2025-03-08 19:13:42 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:42 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:42 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_Q4JhuwPKdMt7vt~63,1~21~Confirm
2025-03-08 19:13:42 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:42 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-03-08 19:13:42 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:13:42 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-03-08 19:13:42 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_Q4JhuwPKdMt7vt appointment_id: 63
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63, Key: Finalize_Status
2025-03-08 19:13:42 [INFO]: JSON data updated successfully
2025-03-08 19:13:42 [INFO]: JSON data updated successfully
2025-03-08 19:13:42 [INFO]: Appointment updated successfully
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63, Column: Payment_Status, Value: Pay_later
2025-03-08 19:13:42 [INFO]: Appointment updated successfully
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63, Column: Status, Value: Confirmed
2025-03-08 19:13:42 [INFO]: Appointment updated successfully
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63, Column: Is_Active, Value: 1
2025-03-08 19:13:42 [INFO]: Appointment updated successfully
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63
2025-03-08 19:13:42 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-03-10",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:13:42 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-03-10",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:13:42 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-03-10, Start_Time: 10:00:00
2025-03-08 19:13:42 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:42 [DEBUG]: Executing query for Appointment_ID: 63
2025-03-08 19:13:42 [INFO]: [object Object]
2025-03-08 19:13:42 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-03-08 19:13:42 [DEBUG]: Executing query for POC_ID: 1
2025-03-08 19:13:43 [INFO]: Message sent successfully
2025-03-08 19:13:43 [DEBUG]: Executing query for Appointment_ID: 63
2025-03-08 19:13:43 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-03-08 19:13:43 [DEBUG]: Executing query for POC_ID: 1
2025-03-08 19:13:43 [DEBUG]: Executing query for Appointment_ID: 63
2025-03-08 19:13:43 [DEBUG]: Executing query for POC_ID: 1
2025-03-08 19:13:44 [INFO]: Message sent successfully
2025-03-08 19:13:44 [INFO]: Appointment confirmed successfully
2025-03-08 19:13:53 [INFO]: Message details:
2025-03-08 19:13:53 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:53 [INFO]: Fetched client ID:
2025-03-08 19:13:53 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:13:53 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:13:53 [INFO]: Query results:
2025-03-08 19:13:53 [INFO]: Fetched POC details:
2025-03-08 19:13:53 [INFO]: Handling user view for: 919094995418
2025-03-08 19:13:53 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:13:53 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:13:53 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:13:54 [INFO]: Message sent successfully
2025-03-08 19:13:54 [INFO]: Welcome message sent to 919094995418
2025-03-08 19:13:54 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-03-08 19:13:54 [INFO]: Query executed successfully. 3 row(s) returned.
2025-03-08 19:13:54 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-03-08 19:13:54 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:13:54 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:13:56 [DEBUG]: Image uploaded successfully:
2025-03-08 19:13:58 [INFO]: Interactive message sent successfully
2025-03-08 19:13:58 [INFO]: Main menu sent to 919094995418
2025-03-08 19:13:58 [INFO]: user Id: 1
2025-03-08 19:14:02 [INFO]: Message details:
2025-03-08 19:14:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:02 [INFO]: Fetched client ID:
2025-03-08 19:14:02 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:02 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:02 [INFO]: Query results:
2025-03-08 19:14:02 [INFO]: Fetched POC details:
2025-03-08 19:14:02 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:02 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:02 [INFO]: Title: Reschedule ID: 1~2~2,1~2~2
2025-03-08 19:14:02 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:02 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 2
2025-03-08 19:14:02 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:02 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":32,"MENU_NAME":"Fetch Appointment Details","HEADER_MESSAGE":"Reschedule your appointment","ACTION":"Appointment_Function~FETCH_APPOINTMENT_DETAILS_RESCHEDULE"}
2025-03-08 19:14:02 [INFO]: handleAction: iAction:Appointment_Function,FETCH_APPOINTMENT_DETAILS_RESCHEDULE ,iClientID:1 ,iMenuId:32, iUserValue:Reschedule iSelectId: 2 appointment_id: undefined
2025-03-08 19:14:02 [DEBUG]: Executing query for User_ID: 1
2025-03-08 19:14:02 [INFO]: [object Object],[object Object]
2025-03-08 19:14:02 [INFO]: [object Object],[object Object]
2025-03-08 19:14:02 [INFO]: Interactive message sent successfully
2025-03-08 19:14:03 [INFO]: Interactive message sent successfully
2025-03-08 19:14:06 [INFO]: Message details:
2025-03-08 19:14:06 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:06 [INFO]: Fetched client ID:
2025-03-08 19:14:06 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:06 [INFO]: Query results:
2025-03-08 19:14:06 [INFO]: Fetched POC details:
2025-03-08 19:14:06 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:06 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:06 [INFO]: Title: Reschedule ID: 1~32~Reschedule~60,1~32~2
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 32
2025-03-08 19:14:06 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:06 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":33,"MENU_NAME":"Fetch available Dates","HEADER_MESSAGE":"Select a new date","ACTION":"Confirm_Status~RESCHEDULE_DATE"}
2025-03-08 19:14:06 [INFO]: handleAction: iAction:Confirm_Status,RESCHEDULE_DATE ,iClientID:1 ,iMenuId:33, iUserValue:Reschedule iSelectId: Reschedule appointment_id: 60
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60
2025-03-08 19:14:06 [INFO]: [object Object]
2025-03-08 19:14:06 [INFO]: [object Object]
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60, Column: Is_Active, Value: 0
2025-03-08 19:14:06 [INFO]: Appointment updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60, Column: Status, Value: Rescheduled
2025-03-08 19:14:06 [INFO]: Appointment updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_RESCHEDULE
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 60, Key: Poc_ID
2025-03-08 19:14:06 [DEBUG]: Executing query for POC_ID: 1
2025-03-08 19:14:06 [INFO]: Message sent successfully
2025-03-08 19:14:06 [INFO]: increaseAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-03-10",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:14:06 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-03-10, Start_Time: 10:00:00
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-03-08 19:14:06 [INFO]: New Appointment id : 64
2025-03-08 19:14:06 [INFO]: Appointment Type: Direct Consultation POC_ID: '1
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 64, Column: Appointment_Type, Value: Direct Consultation
2025-03-08 19:14:06 [INFO]: Appointment updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 64, Key: Appointment_Type
2025-03-08 19:14:06 [INFO]: JSON data updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 64, Column: POC_ID, Value: 1
2025-03-08 19:14:06 [INFO]: Appointment updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 64, Key: Poc_ID
2025-03-08 19:14:06 [INFO]: JSON data updated successfully
2025-03-08 19:14:06 [DEBUG]: Executing query for Appointment_ID: 64, Key: Poc_ID
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-03-08 19:14:06 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 33, POC_ID: 1
2025-03-08 19:14:07 [INFO]: Radio button message sent successfully
2025-03-08 19:14:14 [INFO]: Message details:
2025-03-08 19:14:14 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:14 [INFO]: Fetched client ID:
2025-03-08 19:14:14 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:14 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:14 [INFO]: Query results:
2025-03-08 19:14:14 [INFO]: Fetched POC details:
2025-03-08 19:14:14 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:14 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:14 [INFO]: Title: 2025-03-12 ID: 1~33~1-2025-03-12~64,1~33~Reschedule
2025-03-08 19:14:14 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:14 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 33
2025-03-08 19:14:14 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:14 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":34,"MENU_NAME":"Fetch available Time","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-03-08 19:14:14 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:34, iUserValue:2025-03-12 iSelectId: 1-2025-03-12 appointment_id: 64
2025-03-08 19:14:14 [DEBUG]: Executing query for Appointment_ID: 64, Column: Appointment_Date, Value: 2025-03-12
2025-03-08 19:14:14 [INFO]: Appointment updated successfully
2025-03-08 19:14:14 [INFO]: Appointment updated successfully
2025-03-08 19:14:14 [DEBUG]: Executing query for Appointment_ID: 64, Key: Appointment_Date
2025-03-08 19:14:14 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 34, iKey: 1-2025-03-12, iValue: 2025-03-12
2025-03-08 19:14:14 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 34, POC_ID: 1-2025-03-12, Schedule_Date: 2025-03-12
2025-03-08 19:14:15 [INFO]: Radio button message sent successfully
2025-03-08 19:14:16 [INFO]: Interactive message sent successfully
2025-03-08 19:14:16 [INFO]: Back button sent to 919094995418
2025-03-08 19:14:29 [INFO]: Message details:
2025-03-08 19:14:29 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:29 [INFO]: Fetched client ID:
2025-03-08 19:14:29 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:29 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:29 [INFO]: Query results:
2025-03-08 19:14:29 [INFO]: Fetched POC details:
2025-03-08 19:14:29 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:29 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:29 [INFO]: Title: 10:00:00 ID: 1~34~1-2025-03-12-10:00:00~64,1~33~1-2025-03-12
2025-03-08 19:14:29 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:29 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 34
2025-03-08 19:14:29 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:29 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":35,"MENU_NAME":"Confirm Reschedule","HEADER_MESSAGE":"Reschedule your appointment","ACTION":"Appointment_Time~CONFIRM_RESCHEDULE"}
2025-03-08 19:14:29 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM_RESCHEDULE ,iClientID:1 ,iMenuId:35, iUserValue:10:00:00 iSelectId: 1-2025-03-12-10:00:00 appointment_id: 64
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64, Column: Appointment_Time, Value: 10:00:00
2025-03-08 19:14:29 [INFO]: Appointment updated successfully
2025-03-08 19:14:29 [INFO]: Appointment updated successfully
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64, Key: Appointment_Date
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64, Column: Appointment_Date, Value: 2025-03-12
2025-03-08 19:14:29 [INFO]: Appointment updated successfully
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64, Key: Appointment_Time
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64, Column: Appointment_Time, Value: 10:00:00
2025-03-08 19:14:29 [INFO]: Appointment updated successfully
2025-03-08 19:14:29 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_RESCHEDULE
2025-03-08 19:14:29 [DEBUG]: Executing query for Appointment_ID: 64
2025-03-08 19:14:30 [INFO]: Message sent successfully
2025-03-08 19:14:30 [INFO]: Radio button message sent successfully
2025-03-08 19:14:31 [INFO]: Interactive message sent successfully
2025-03-08 19:14:31 [INFO]: Back button sent to 919094995418
2025-03-08 19:14:35 [INFO]: Message details:
2025-03-08 19:14:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:35 [INFO]: Fetched client ID:
2025-03-08 19:14:35 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:35 [INFO]: Query results:
2025-03-08 19:14:35 [INFO]: Fetched POC details:
2025-03-08 19:14:35 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:35 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:35 [INFO]: Title: Confirm ID: 1~35~Confirm~64,1~34~1-2025-03-12-10:00:00
2025-03-08 19:14:35 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 35
2025-03-08 19:14:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":36,"MENU_NAME":"Finalize Reschedule","HEADER_MESSAGE":"Appointment Rescheduled","ACTION":"Confirm_Status~FINALIZE_RESCHEDULE"}
2025-03-08 19:14:35 [INFO]: handleAction: iAction:Confirm_Status,FINALIZE_RESCHEDULE ,iClientID:1 ,iMenuId:36, iUserValue:Confirm iSelectId: Confirm appointment_id: 64
2025-03-08 19:14:35 [DEBUG]: Executing query for Appointment_ID: 64, Key: Confirm_Status
2025-03-08 19:14:35 [INFO]: JSON data updated successfully
2025-03-08 19:14:35 [INFO]: JSON data updated successfully
2025-03-08 19:14:35 [INFO]: Appointment updated successfully
2025-03-08 19:14:35 [DEBUG]: Executing query for Appointment_ID: 64, Column: Status, Value: Confirmed
2025-03-08 19:14:35 [INFO]: Appointment updated successfully
2025-03-08 19:14:35 [DEBUG]: Executing query for Appointment_ID: 64, Column: Is_Active, Value: 1
2025-03-08 19:14:35 [INFO]: Appointment updated successfully
2025-03-08 19:14:35 [DEBUG]: Executing query for Appointment_ID: 64
2025-03-08 19:14:35 [INFO]: updateAvailableSlots: {
  "POC_ID": 1,
  "Poc_ID": 1,
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Date": "2025-03-12",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:14:35 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-03-12, Start_Time: 10:00:00
2025-03-08 19:14:35 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_RESCHEDULE
2025-03-08 19:14:36 [INFO]: Message sent successfully
2025-03-08 19:14:36 [INFO]: Appointment rescheduled successfully
2025-03-08 19:14:37 [INFO]: Message sent successfully
2025-03-08 19:14:49 [INFO]: Message details:
2025-03-08 19:14:49 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:49 [INFO]: Fetched client ID:
2025-03-08 19:14:49 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:49 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:49 [INFO]: Query results:
2025-03-08 19:14:49 [INFO]: Fetched POC details:
2025-03-08 19:14:49 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:49 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:49 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:49 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:49 [INFO]: Message sent successfully
2025-03-08 19:14:49 [INFO]: Welcome message sent to 919094995418
2025-03-08 19:14:49 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-03-08 19:14:49 [INFO]: Query executed successfully. 3 row(s) returned.
2025-03-08 19:14:49 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-03-08 19:14:49 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:14:49 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 19:14:51 [DEBUG]: Image uploaded successfully:
2025-03-08 19:14:52 [INFO]: Interactive message sent successfully
2025-03-08 19:14:52 [INFO]: Main menu sent to 919094995418
2025-03-08 19:14:52 [INFO]: user Id: 1
2025-03-08 19:14:58 [INFO]: Message details:
2025-03-08 19:14:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:14:58 [INFO]: Fetched client ID:
2025-03-08 19:14:58 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:14:58 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:14:58 [INFO]: Query results:
2025-03-08 19:14:58 [INFO]: Fetched POC details:
2025-03-08 19:14:58 [INFO]: Handling user view for: 919094995418
2025-03-08 19:14:58 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:14:58 [INFO]: Title: Cancel Appointment ID: 1~3~3,1~3~3
2025-03-08 19:14:58 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:14:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 3
2025-03-08 19:14:58 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:14:58 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":30,"MENU_NAME":"Confirm Cancel","HEADER_MESSAGE":"Cancel your appointment","ACTION":"Appointment_Function~FETCH_APPOINTMENT_DETAILS"}
2025-03-08 19:14:58 [INFO]: handleAction: iAction:Appointment_Function,FETCH_APPOINTMENT_DETAILS ,iClientID:1 ,iMenuId:30, iUserValue:Cancel Appointment iSelectId: 3 appointment_id: undefined
2025-03-08 19:14:58 [DEBUG]: Executing query for User_ID: 1
2025-03-08 19:14:58 [INFO]: [object Object],[object Object]
2025-03-08 19:14:58 [INFO]: [object Object],[object Object]
2025-03-08 19:14:59 [INFO]: Interactive message sent successfully
2025-03-08 19:14:59 [INFO]: Interactive message sent successfully
2025-03-08 19:15:09 [INFO]: Message details:
2025-03-08 19:15:09 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 19:15:09 [INFO]: Fetched client ID:
2025-03-08 19:15:09 [INFO]: getFromPOC: from:919094995418
2025-03-08 19:15:09 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 19:15:09 [INFO]: Query results:
2025-03-08 19:15:09 [INFO]: Fetched POC details:
2025-03-08 19:15:09 [INFO]: Handling user view for: 919094995418
2025-03-08 19:15:09 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 19:15:09 [INFO]: Title: Cancel ID: 1~30~Cancel~64,1~30~3
2025-03-08 19:15:09 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 19:15:09 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 30
2025-03-08 19:15:09 [INFO]: Query executed successfully. 1 row(s) returned.
2025-03-08 19:15:09 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":31,"MENU_NAME":"Finalize Cancel","HEADER_MESSAGE":"Appointment Cancelled","ACTION":"Confirm_Status~FINALIZE_CANCEL"}
2025-03-08 19:15:09 [INFO]: handleAction: iAction:Confirm_Status,FINALIZE_CANCEL ,iClientID:1 ,iMenuId:31, iUserValue:Cancel iSelectId: Cancel appointment_id: 64
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64, Key: Confirm_Status
2025-03-08 19:15:09 [INFO]: JSON data updated successfully
2025-03-08 19:15:09 [INFO]: JSON data updated successfully
2025-03-08 19:15:09 [INFO]: Appointment updated successfully
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64, Column: Status, Value: Cancelled
2025-03-08 19:15:09 [INFO]: Appointment updated successfully
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64, Column: Is_Active, Value: 0
2025-03-08 19:15:09 [INFO]: Appointment updated successfully
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64
2025-03-08 19:15:09 [INFO]: [object Object]
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64
2025-03-08 19:15:09 [INFO]:  1  2025-03-12 10:00:00
2025-03-08 19:15:09 [INFO]: increaseAvailableSlots: {
  "POC_ID": 1,
  "Poc_ID": 1,
  "Status": "Cancelled",
  "Is_Active": 0,
  "Confirm_Status": "Cancel",
  "Appointment_Date": "2025-03-12",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-03-08 19:15:09 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-03-12, Start_Time: 10:00:00
2025-03-08 19:15:09 [DEBUG]: Executing query for Appointment_ID: 64
2025-03-08 19:15:09 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CANCELLATION
2025-03-08 19:15:09 [DEBUG]: Executing query for POC_ID: 1
2025-03-08 19:15:10 [INFO]: Message sent successfully
2025-03-08 19:15:10 [INFO]: Message sent successfully
2025-03-08 19:15:10 [INFO]: Appointment cancelled successfully
2025-03-08 19:15:11 [INFO]: Message sent successfully
2025-03-08 20:09:14 [INFO]: Message details:
2025-03-08 20:09:14 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 20:09:14 [INFO]: Fetched client ID:
2025-03-08 20:09:14 [INFO]: getFromPOC: from:919094995418
2025-03-08 20:09:14 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-03-08 20:09:14 [INFO]: Query results:
2025-03-08 20:09:14 [INFO]: Fetched POC details:
2025-03-08 20:09:14 [INFO]: Handling user view for: 919094995418
2025-03-08 20:09:14 [INFO]: Fetching Client ID for displayPhoneNumber: "15551557509"
2025-03-08 20:09:14 [DEBUG]: Executing query for User_Contact: 919094995418
2025-03-08 20:09:14 [DEBUG]: Executing query for Client_ID: 1
2025-03-08 20:09:15 [INFO]: Message sent successfully
2025-03-08 20:09:15 [INFO]: Welcome message sent to 919094995418
2025-03-08 20:09:15 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-03-08 20:09:15 [INFO]: Query executed successfully. 3 row(s) returned.
2025-03-08 20:09:15 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-03-08 20:09:15 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 20:09:15 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-03-08 20:09:17 [DEBUG]: Image uploaded successfully:
2025-03-08 20:09:18 [INFO]: Interactive message sent successfully
2025-03-08 20:09:18 [INFO]: Main menu sent to 919094995418
2025-03-08 20:09:18 [INFO]: user Id: 1
