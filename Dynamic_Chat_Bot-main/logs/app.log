2025-01-22 12:54:44 [INFO]:  connected to MySQL database.
2025-01-22 12:54:44 [INFO]: Server is running on http://localhost:6000
2025-01-22 12:54:48 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 12:54:48 [DEBUG]: Message type: text
2025-01-22 12:54:48 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:54:48 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:54:48 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:54:48 [INFO]: Query results:
2025-01-22 12:54:48 [INFO]: Handling user view for: 917299817996
2025-01-22 12:54:48 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:54:48 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:54:48 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 12:54:49 [INFO]: Message sent successfully
2025-01-22 12:54:49 [INFO]: Welcome message sent to 917299817996
2025-01-22 12:54:49 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 12:54:49 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 12:54:49 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 12:54:49 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:49 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:49 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 12:54:49 [DEBUG]: Message type: text
2025-01-22 12:54:49 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:54:49 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:54:49 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:54:49 [INFO]: Query results:
2025-01-22 12:54:49 [INFO]: Handling user view for: 917299817996
2025-01-22 12:54:49 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:54:49 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:54:49 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 12:54:50 [INFO]: Message sent successfully
2025-01-22 12:54:50 [INFO]: Welcome message sent to 917299817996
2025-01-22 12:54:50 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 12:54:50 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 12:54:50 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 12:54:50 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:50 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:50 [DEBUG]: Image uploaded successfully:
2025-01-22 12:54:51 [INFO]: Interactive message sent successfully
2025-01-22 12:54:51 [INFO]: Main menu sent to 917299817996
2025-01-22 12:54:51 [INFO]: user Id: 2
2025-01-22 12:54:52 [DEBUG]: Image uploaded successfully:
2025-01-22 12:54:52 [INFO]: Interactive message sent successfully
2025-01-22 12:54:52 [INFO]: Main menu sent to 917299817996
2025-01-22 12:54:52 [INFO]: user Id: 2
2025-01-22 12:54:58 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 12:54:58 [DEBUG]: Message type: interactive
2025-01-22 12:54:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:54:58 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:54:58 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:54:58 [INFO]: Query results:
2025-01-22 12:54:58 [INFO]: Handling user view for: 917299817996
2025-01-22 12:54:58 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:54:58 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 12:54:58 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 12:54:58 [INFO]: Appointment id: 14
2025-01-22 12:54:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 12:54:58 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 12:54:58 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:58 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:58 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:58 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:54:59 [INFO]: Radio button message sent successfully
2025-01-22 12:54:59 [INFO]: Interactive message sent successfully
2025-01-22 12:54:59 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:04 [INFO]: Message received from: 917299817996, Content: Direct Consultation
2025-01-22 12:55:04 [DEBUG]: Message type: interactive
2025-01-22 12:55:04 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:04 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:04 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:04 [INFO]: Query results:
2025-01-22 12:55:04 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:04 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:04 [INFO]: Title: Direct Consultation ID: 1~6~undefined~14,1~1~1
2025-01-22 12:55:04 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 12:55:04 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:04 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 12:55:04 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 14
2025-01-22 12:55:04 [DEBUG]: Executing query for Appointment_ID: 14, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 12:55:04 [INFO]: Appointment updated successfully
2025-01-22 12:55:04 [INFO]: Appointment updated successfully
2025-01-22 12:55:04 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 12:55:04 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 12:55:04 [INFO]: Query results:
2025-01-22 12:55:05 [INFO]: Radio button message sent successfully
2025-01-22 12:55:06 [INFO]: Interactive message sent successfully
2025-01-22 12:55:06 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:10 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 12:55:10 [DEBUG]: Message type: interactive
2025-01-22 12:55:10 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:10 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:10 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:10 [INFO]: Query results:
2025-01-22 12:55:10 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:10 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:10 [INFO]: Title: Cardiology ID: 1~16~1~14,1~6~undefined
2025-01-22 12:55:10 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 12:55:10 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:10 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 12:55:10 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 14
2025-01-22 12:55:10 [DEBUG]: Executing query for Appointment_ID: 14, Key: Department
2025-01-22 12:55:10 [INFO]: JSON data updated successfully
2025-01-22 12:55:10 [INFO]: JSON data updated successfully
2025-01-22 12:55:10 [INFO]: Appointment updated successfully
2025-01-22 12:55:10 [DEBUG]: Executing query for Appointment_ID: 14, Key: Department
2025-01-22 12:55:10 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 12:55:10 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 12:55:10 [INFO]: Query results:
2025-01-22 12:55:11 [INFO]: Radio button message sent successfully
2025-01-22 12:55:12 [INFO]: Interactive message sent successfully
2025-01-22 12:55:12 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:15 [INFO]: Message received from: 917299817996, Content: Dr. Harry Smith
2025-01-22 12:55:15 [DEBUG]: Message type: interactive
2025-01-22 12:55:15 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:15 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:15 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:15 [INFO]: Query results:
2025-01-22 12:55:15 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:15 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:15 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~14,1~16~1
2025-01-22 12:55:15 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 12:55:15 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:15 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 12:55:15 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 14
2025-01-22 12:55:15 [DEBUG]: Executing query for Appointment_ID: 14, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 12:55:15 [INFO]: POC ID and JSON data updated successfully
2025-01-22 12:55:15 [INFO]: Appointment updated successfully
2025-01-22 12:55:15 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 12:55:15 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 12:55:16 [INFO]: Radio button message sent successfully
2025-01-22 12:55:17 [INFO]: Interactive message sent successfully
2025-01-22 12:55:17 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:21 [INFO]: Message received from: 917299817996, Content: 2025-02-04
2025-01-22 12:55:21 [DEBUG]: Message type: interactive
2025-01-22 12:55:21 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:21 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:21 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:21 [INFO]: Query results:
2025-01-22 12:55:21 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:21 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:21 [INFO]: Title: 2025-02-04 ID: 1~18~1-2025-02-04~14,1~17~1
2025-01-22 12:55:21 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 12:55:21 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:21 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 12:55:21 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-02-04 iSelectId: 1-2025-02-04 appointment_id: 14
2025-01-22 12:55:21 [DEBUG]: Executing query for Appointment_ID: 14, Column: Appointment_Date, Value: 2025-02-04
2025-01-22 12:55:21 [INFO]: Appointment updated successfully
2025-01-22 12:55:21 [INFO]: Appointment updated successfully
2025-01-22 12:55:21 [DEBUG]: Executing query for Appointment_ID: 14, Key: Appointment_Date
2025-01-22 12:55:21 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-02-04, iValue: 2025-02-04
2025-01-22 12:55:21 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-02-04, Schedule_Date: 2025-02-04
2025-01-22 12:55:21 [INFO]: Radio button message sent successfully
2025-01-22 12:55:22 [INFO]: Interactive message sent successfully
2025-01-22 12:55:22 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:25 [INFO]: Message received from: 917299817996, Content: 16:00:00
2025-01-22 12:55:25 [DEBUG]: Message type: interactive
2025-01-22 12:55:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:25 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:25 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:25 [INFO]: Query results:
2025-01-22 12:55:25 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:25 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:25 [INFO]: Title: 16:00:00 ID: 1~19~1-2025-02-04-16:00:00~14,1~18~1-2025-02-04
2025-01-22 12:55:25 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 12:55:25 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:25 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 12:55:25 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:16:00:00 iSelectId: 1-2025-02-04-16:00:00 appointment_id: 14
2025-01-22 12:55:25 [DEBUG]: Executing query for Appointment_ID: 14, Column: Appointment_Time, Value: 16:00:00
2025-01-22 12:55:25 [INFO]: Appointment updated successfully
2025-01-22 12:55:25 [INFO]: Appointment updated successfully
2025-01-22 12:55:25 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 12:55:25 [DEBUG]: Executing query for Appointment_ID: 14
2025-01-22 12:55:25 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-02-04",
  "Appointment_Time": "16:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:55:26 [INFO]: Message sent successfully
2025-01-22 12:55:26 [INFO]: Radio button message sent successfully
2025-01-22 12:55:27 [INFO]: Interactive message sent successfully
2025-01-22 12:55:27 [INFO]: Back button sent to 917299817996
2025-01-22 12:55:31 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 12:55:31 [DEBUG]: Message type: interactive
2025-01-22 12:55:31 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:31 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:31 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:31 [INFO]: Query results:
2025-01-22 12:55:31 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:31 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:31 [INFO]: Title: Confirm ID: 1~20~Confirm~14,1~19~1-2025-02-04-16:00:00
2025-01-22 12:55:31 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 12:55:31 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:31 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 12:55:31 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 14
2025-01-22 12:55:31 [DEBUG]: Executing query for Appointment_ID: 14, Key: Confirm_Status
2025-01-22 12:55:31 [INFO]: JSON data updated successfully
2025-01-22 12:55:31 [INFO]: JSON data updated successfully
2025-01-22 12:55:31 [INFO]: Appointment updated successfully
2025-01-22 12:55:32 [INFO]: Message sent successfully
2025-01-22 12:55:32 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 12:55:33 [INFO]: Message sent successfully
2025-01-22 12:55:33 [INFO]: Message sent successfully
2025-01-22 12:55:33 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 12:55:33 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:33 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 12:55:34 [INFO]: Interactive message sent successfully
2025-01-22 12:55:41 [INFO]: Message received from: 917299817996, Content: Finalize
2025-01-22 12:55:41 [DEBUG]: Message type: interactive
2025-01-22 12:55:41 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:55:41 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:55:41 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:55:41 [INFO]: Query results:
2025-01-22 12:55:41 [INFO]: Handling user view for: 917299817996
2025-01-22 12:55:41 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:55:41 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmPE7cCE5GPmiL~14,1~21~Confirm
2025-01-22 12:55:41 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 12:55:41 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:55:41 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 12:55:41 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmPE7cCE5GPmiL appointment_id: 14
2025-01-22 12:55:41 [DEBUG]: Executing query for Appointment_ID: 14, Key: Finalize_Status
2025-01-22 12:55:41 [INFO]: JSON data updated successfully
2025-01-22 12:55:41 [INFO]: JSON data updated successfully
2025-01-22 12:55:41 [INFO]: Appointment updated successfully
2025-01-22 12:55:41 [DEBUG]: Executing query for Appointment_ID: 14, Column: Payment_Status, Value: Pay_later
2025-01-22 12:55:41 [INFO]: Appointment updated successfully
2025-01-22 12:55:41 [DEBUG]: Executing query for Appointment_ID: 14, Column: Status, Value: Confirmed
2025-01-22 12:55:41 [INFO]: Appointment updated successfully
2025-01-22 12:55:41 [DEBUG]: Executing query for Appointment_ID: 14, Column: Is_Active, Value: 1
2025-01-22 12:55:41 [INFO]: Appointment updated successfully
2025-01-22 12:55:41 [DEBUG]: Executing query for Appointment_ID: 14
2025-01-22 12:55:41 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-04",
  "Appointment_Time": "16:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:55:41 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-04",
  "Appointment_Time": "16:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:55:41 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-02-04, Start_Time: 16:00:00
2025-01-22 12:55:41 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 12:55:41 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:55:42 [INFO]: Message sent successfully
2025-01-22 12:55:42 [DEBUG]: Executing query for Appointment_ID: 14
2025-01-22 12:55:42 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 12:55:42 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:55:42 [DEBUG]: Executing query for Appointment_ID: 14
2025-01-22 12:55:42 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:55:42 [INFO]: Appointment confirmed successfully
2025-01-22 12:57:06 [INFO]:  connected to MySQL database.
2025-01-22 12:57:06 [INFO]: Server is running on http://localhost:6000
2025-01-22 12:57:12 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 12:57:12 [DEBUG]: Message type: text
2025-01-22 12:57:12 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:12 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:12 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:12 [INFO]: Query results:
2025-01-22 12:57:12 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:12 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:12 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:12 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 12:57:13 [INFO]: Message sent successfully
2025-01-22 12:57:13 [INFO]: Welcome message sent to 917299817996
2025-01-22 12:57:13 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 12:57:13 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 12:57:13 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 12:57:13 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:13 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:15 [DEBUG]: Image uploaded successfully:
2025-01-22 12:57:16 [INFO]: Interactive message sent successfully
2025-01-22 12:57:16 [INFO]: Main menu sent to 917299817996
2025-01-22 12:57:16 [INFO]: user Id: 2
2025-01-22 12:57:18 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 12:57:18 [DEBUG]: Message type: interactive
2025-01-22 12:57:18 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:18 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:18 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:18 [INFO]: Query results:
2025-01-22 12:57:18 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:18 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:18 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 12:57:18 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 12:57:18 [INFO]: Appointment id: 15
2025-01-22 12:57:18 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 12:57:18 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 12:57:18 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:18 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:18 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:18 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 12:57:19 [INFO]: Radio button message sent successfully
2025-01-22 12:57:20 [INFO]: Interactive message sent successfully
2025-01-22 12:57:20 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:24 [INFO]: Message received from: 917299817996, Content: Direct Consultation
2025-01-22 12:57:24 [DEBUG]: Message type: interactive
2025-01-22 12:57:24 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:24 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:24 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:24 [INFO]: Query results:
2025-01-22 12:57:24 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:24 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:24 [INFO]: Title: Direct Consultation ID: 1~6~undefined~15,1~1~1
2025-01-22 12:57:24 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 12:57:24 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:24 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 12:57:24 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 15
2025-01-22 12:57:24 [DEBUG]: Executing query for Appointment_ID: 15, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 12:57:24 [INFO]: Appointment updated successfully
2025-01-22 12:57:24 [INFO]: Appointment updated successfully
2025-01-22 12:57:24 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 12:57:24 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 12:57:24 [INFO]: Query results:
2025-01-22 12:57:25 [INFO]: Radio button message sent successfully
2025-01-22 12:57:26 [INFO]: Interactive message sent successfully
2025-01-22 12:57:26 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:29 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 12:57:29 [DEBUG]: Message type: interactive
2025-01-22 12:57:29 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:29 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:29 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:29 [INFO]: Query results:
2025-01-22 12:57:29 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:29 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:29 [INFO]: Title: Cardiology ID: 1~16~1~15,1~6~undefined
2025-01-22 12:57:29 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 12:57:29 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:29 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 12:57:29 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 15
2025-01-22 12:57:29 [DEBUG]: Executing query for Appointment_ID: 15, Key: Department
2025-01-22 12:57:29 [INFO]: JSON data updated successfully
2025-01-22 12:57:29 [INFO]: JSON data updated successfully
2025-01-22 12:57:29 [INFO]: Appointment updated successfully
2025-01-22 12:57:29 [DEBUG]: Executing query for Appointment_ID: 15, Key: Department
2025-01-22 12:57:29 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 12:57:29 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 12:57:29 [INFO]: Query results:
2025-01-22 12:57:30 [INFO]: Radio button message sent successfully
2025-01-22 12:57:31 [INFO]: Interactive message sent successfully
2025-01-22 12:57:31 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:35 [INFO]: Message received from: 917299817996, Content: Dr. Harry Smith
2025-01-22 12:57:35 [DEBUG]: Message type: interactive
2025-01-22 12:57:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:35 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:35 [INFO]: Query results:
2025-01-22 12:57:35 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:35 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:35 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~15,1~16~1
2025-01-22 12:57:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 12:57:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 12:57:35 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 15
2025-01-22 12:57:35 [DEBUG]: Executing query for Appointment_ID: 15, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 12:57:35 [INFO]: POC ID and JSON data updated successfully
2025-01-22 12:57:35 [INFO]: Appointment updated successfully
2025-01-22 12:57:35 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 12:57:35 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 12:57:35 [INFO]: Radio button message sent successfully
2025-01-22 12:57:36 [INFO]: Interactive message sent successfully
2025-01-22 12:57:36 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:39 [INFO]: Message received from: 917299817996, Content: 2025-01-31
2025-01-22 12:57:39 [DEBUG]: Message type: interactive
2025-01-22 12:57:39 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:39 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:39 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:39 [INFO]: Query results:
2025-01-22 12:57:39 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:39 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:39 [INFO]: Title: 2025-01-31 ID: 1~18~1-2025-01-31~15,1~17~1
2025-01-22 12:57:39 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 12:57:39 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:39 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 12:57:39 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-31 iSelectId: 1-2025-01-31 appointment_id: 15
2025-01-22 12:57:39 [DEBUG]: Executing query for Appointment_ID: 15, Column: Appointment_Date, Value: 2025-01-31
2025-01-22 12:57:39 [INFO]: Appointment updated successfully
2025-01-22 12:57:39 [INFO]: Appointment updated successfully
2025-01-22 12:57:39 [DEBUG]: Executing query for Appointment_ID: 15, Key: Appointment_Date
2025-01-22 12:57:39 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-31, iValue: 2025-01-31
2025-01-22 12:57:39 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-31, Schedule_Date: 2025-01-31
2025-01-22 12:57:40 [INFO]: Radio button message sent successfully
2025-01-22 12:57:41 [INFO]: Interactive message sent successfully
2025-01-22 12:57:41 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:44 [INFO]: Message received from: 917299817996, Content: 16:30:00
2025-01-22 12:57:44 [DEBUG]: Message type: interactive
2025-01-22 12:57:44 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:44 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:44 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:44 [INFO]: Query results:
2025-01-22 12:57:44 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:44 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:44 [INFO]: Title: 16:30:00 ID: 1~19~1-2025-01-31-16:30:00~15,1~18~1-2025-01-31
2025-01-22 12:57:44 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 12:57:44 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:44 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 12:57:44 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:16:30:00 iSelectId: 1-2025-01-31-16:30:00 appointment_id: 15
2025-01-22 12:57:44 [DEBUG]: Executing query for Appointment_ID: 15, Column: Appointment_Time, Value: 16:30:00
2025-01-22 12:57:44 [INFO]: Appointment updated successfully
2025-01-22 12:57:44 [INFO]: Appointment updated successfully
2025-01-22 12:57:44 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 12:57:44 [DEBUG]: Executing query for Appointment_ID: 15
2025-01-22 12:57:44 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-31",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:57:45 [INFO]: Message sent successfully
2025-01-22 12:57:46 [INFO]: Radio button message sent successfully
2025-01-22 12:57:46 [INFO]: Interactive message sent successfully
2025-01-22 12:57:46 [INFO]: Back button sent to 917299817996
2025-01-22 12:57:51 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 12:57:51 [DEBUG]: Message type: interactive
2025-01-22 12:57:51 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:51 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:51 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:51 [INFO]: Query results:
2025-01-22 12:57:51 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:51 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:51 [INFO]: Title: Confirm ID: 1~20~Confirm~15,1~19~1-2025-01-31-16:30:00
2025-01-22 12:57:51 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 12:57:51 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:51 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 12:57:51 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 15
2025-01-22 12:57:51 [DEBUG]: Executing query for Appointment_ID: 15, Key: Confirm_Status
2025-01-22 12:57:51 [INFO]: JSON data updated successfully
2025-01-22 12:57:51 [INFO]: JSON data updated successfully
2025-01-22 12:57:51 [INFO]: Appointment updated successfully
2025-01-22 12:57:52 [INFO]: Message sent successfully
2025-01-22 12:57:52 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 12:57:53 [INFO]: Message sent successfully
2025-01-22 12:57:53 [INFO]: Message sent successfully
2025-01-22 12:57:53 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 12:57:53 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:53 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 12:57:54 [INFO]: Interactive message sent successfully
2025-01-22 12:57:59 [INFO]: Message received from: 917299817996, Content: Finalize
2025-01-22 12:57:59 [DEBUG]: Message type: interactive
2025-01-22 12:57:59 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 12:57:59 [INFO]: getFromPOC: from:917299817996
2025-01-22 12:57:59 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 12:57:59 [INFO]: Query results:
2025-01-22 12:57:59 [INFO]: Handling user view for: 917299817996
2025-01-22 12:57:59 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 12:57:59 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmPGaPtP9xtfxF~15,1~21~Confirm
2025-01-22 12:57:59 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 12:57:59 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 12:57:59 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 12:57:59 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmPGaPtP9xtfxF appointment_id: 15
2025-01-22 12:57:59 [DEBUG]: Executing query for Appointment_ID: 15, Key: Finalize_Status
2025-01-22 12:57:59 [INFO]: JSON data updated successfully
2025-01-22 12:57:59 [INFO]: JSON data updated successfully
2025-01-22 12:57:59 [INFO]: Appointment updated successfully
2025-01-22 12:57:59 [DEBUG]: Executing query for Appointment_ID: 15, Column: Payment_Status, Value: Pay_later
2025-01-22 12:57:59 [INFO]: Appointment updated successfully
2025-01-22 12:57:59 [DEBUG]: Executing query for Appointment_ID: 15, Column: Status, Value: Confirmed
2025-01-22 12:57:59 [INFO]: Appointment updated successfully
2025-01-22 12:57:59 [DEBUG]: Executing query for Appointment_ID: 15, Column: Is_Active, Value: 1
2025-01-22 12:57:59 [INFO]: Appointment updated successfully
2025-01-22 12:57:59 [DEBUG]: Executing query for Appointment_ID: 15
2025-01-22 12:57:59 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-31",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:57:59 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-31",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 12:57:59 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-31, Start_Time: 16:30:00
2025-01-22 12:57:59 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 12:57:59 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:58:00 [INFO]: Message sent successfully
2025-01-22 12:58:00 [DEBUG]: Executing query for Appointment_ID: 15
2025-01-22 12:58:00 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 12:58:00 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:58:00 [DEBUG]: Executing query for Appointment_ID: 15
2025-01-22 12:58:00 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 12:58:01 [INFO]: Message sent successfully
2025-01-22 12:58:01 [INFO]: Appointment confirmed successfully
2025-01-22 13:09:52 [INFO]:  connected to MySQL database.
2025-01-22 13:09:52 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:09:58 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 13:09:58 [DEBUG]: Message type: text
2025-01-22 13:09:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:09:58 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:09:58 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:09:58 [INFO]: Query results:
2025-01-22 13:09:58 [INFO]: Handling user view for: 919094995418
2025-01-22 13:09:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:09:58 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:09:58 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:09:58 [INFO]: Message sent successfully
2025-01-22 13:09:58 [INFO]: Welcome message sent to 919094995418
2025-01-22 13:09:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:09:58 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:09:58 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:09:58 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:09:58 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:00 [DEBUG]: Image uploaded successfully:
2025-01-22 13:10:01 [INFO]: Interactive message sent successfully
2025-01-22 13:10:01 [INFO]: Main menu sent to 919094995418
2025-01-22 13:10:01 [INFO]: user Id: 1
2025-01-22 13:10:05 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 13:10:05 [DEBUG]: Message type: interactive
2025-01-22 13:10:05 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:10:05 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:10:05 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:10:05 [INFO]: Query results:
2025-01-22 13:10:05 [INFO]: Handling user view for: 919094995418
2025-01-22 13:10:05 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:10:05 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:10:05 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:10:05 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 13:10:05 [INFO]: Appointment id: 16
2025-01-22 13:10:05 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:10:05 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:10:05 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:05 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:05 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:05 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:05 [INFO]: Radio button message sent successfully
2025-01-22 13:10:06 [INFO]: Interactive message sent successfully
2025-01-22 13:10:06 [INFO]: Back button sent to 919094995418
2025-01-22 13:10:30 [INFO]:  connected to MySQL database.
2025-01-22 13:10:30 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:10:36 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 13:10:36 [DEBUG]: Message type: text
2025-01-22 13:10:36 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:10:36 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:10:36 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:10:36 [INFO]: Query results:
2025-01-22 13:10:36 [INFO]: Handling user view for: 919094995418
2025-01-22 13:10:36 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:10:36 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:10:36 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:10:37 [INFO]: Message sent successfully
2025-01-22 13:10:37 [INFO]: Welcome message sent to 919094995418
2025-01-22 13:10:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:10:37 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:10:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:10:37 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:37 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:39 [DEBUG]: Image uploaded successfully:
2025-01-22 13:10:40 [INFO]: Interactive message sent successfully
2025-01-22 13:10:40 [INFO]: Main menu sent to 919094995418
2025-01-22 13:10:40 [INFO]: user Id: 1
2025-01-22 13:10:45 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 13:10:45 [DEBUG]: Message type: interactive
2025-01-22 13:10:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:10:45 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:10:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:10:45 [INFO]: Query results:
2025-01-22 13:10:45 [INFO]: Handling user view for: 919094995418
2025-01-22 13:10:45 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:10:45 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:10:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:10:45 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 13:10:45 [INFO]: Appointment id: 17
2025-01-22 13:10:45 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:10:45 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:10:45 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:45 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:45 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:45 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:10:46 [INFO]: Radio button message sent successfully
2025-01-22 13:10:53 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-01-22 13:10:53 [DEBUG]: Message type: interactive
2025-01-22 13:10:53 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:10:53 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:10:53 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:10:53 [INFO]: Query results:
2025-01-22 13:10:53 [INFO]: Handling user view for: 919094995418
2025-01-22 13:10:53 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:10:53 [INFO]: Title: Direct Consultation ID: 1~6~undefined~17,1~1~1
2025-01-22 13:10:53 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:10:53 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 13:10:53 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:10:53 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 13:10:53 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 17
2025-01-22 13:10:53 [DEBUG]: Executing query for Appointment_ID: 17, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 13:10:53 [INFO]: Appointment updated successfully
2025-01-22 13:10:53 [INFO]: Appointment updated successfully
2025-01-22 13:10:53 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 13:10:53 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 13:10:53 [INFO]: Query results:
2025-01-22 13:10:53 [INFO]: Radio button message sent successfully
2025-01-22 13:11:02 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-01-22 13:11:02 [DEBUG]: Message type: interactive
2025-01-22 13:11:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:02 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:02 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:02 [INFO]: Query results:
2025-01-22 13:11:02 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:02 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:02 [INFO]: Title: Cardiology ID: 1~16~1~17,1~6~undefined
2025-01-22 13:11:02 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:02 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 13:11:02 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:02 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 13:11:02 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 17
2025-01-22 13:11:02 [DEBUG]: Executing query for Appointment_ID: 17, Key: Department
2025-01-22 13:11:02 [INFO]: JSON data updated successfully
2025-01-22 13:11:02 [INFO]: JSON data updated successfully
2025-01-22 13:11:02 [INFO]: Appointment updated successfully
2025-01-22 13:11:02 [DEBUG]: Executing query for Appointment_ID: 17, Key: Department
2025-01-22 13:11:02 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 13:11:02 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 13:11:02 [INFO]: Query results:
2025-01-22 13:11:03 [INFO]: Radio button message sent successfully
2025-01-22 13:11:11 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-01-22 13:11:11 [DEBUG]: Message type: interactive
2025-01-22 13:11:11 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:11 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:11 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:11 [INFO]: Query results:
2025-01-22 13:11:11 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:11 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:11 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~17,1~16~1
2025-01-22 13:11:11 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:11 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 13:11:11 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:11 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 13:11:11 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 17
2025-01-22 13:11:11 [DEBUG]: Executing query for Appointment_ID: 17, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 13:11:11 [INFO]: POC ID and JSON data updated successfully
2025-01-22 13:11:11 [INFO]: Appointment updated successfully
2025-01-22 13:11:11 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 13:11:11 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 13:11:12 [INFO]: Radio button message sent successfully
2025-01-22 13:11:18 [INFO]: Message received from: 919094995418, Content: 2025-01-22
2025-01-22 13:11:18 [DEBUG]: Message type: interactive
2025-01-22 13:11:18 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:18 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:18 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:18 [INFO]: Query results:
2025-01-22 13:11:18 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:18 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:18 [INFO]: Title: 2025-01-22 ID: 1~18~1-2025-01-22~17,1~17~1
2025-01-22 13:11:18 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:18 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 13:11:18 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:18 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:11:18 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-22 iSelectId: 1-2025-01-22 appointment_id: 17
2025-01-22 13:11:18 [DEBUG]: Executing query for Appointment_ID: 17, Column: Appointment_Date, Value: 2025-01-22
2025-01-22 13:11:18 [INFO]: Appointment updated successfully
2025-01-22 13:11:18 [INFO]: Appointment updated successfully
2025-01-22 13:11:18 [DEBUG]: Executing query for Appointment_ID: 17, Key: Appointment_Date
2025-01-22 13:11:18 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-22, iValue: 2025-01-22
2025-01-22 13:11:18 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-22, Schedule_Date: 2025-01-22
2025-01-22 13:11:19 [INFO]: Radio button message sent successfully
2025-01-22 13:11:25 [INFO]: Message received from: 919094995418, Content: 15:00:00
2025-01-22 13:11:25 [DEBUG]: Message type: interactive
2025-01-22 13:11:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:25 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:25 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:25 [INFO]: Query results:
2025-01-22 13:11:25 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:25 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:25 [INFO]: Title: 15:00:00 ID: 1~19~1-2025-01-22-15:00:00~17,1~18~1-2025-01-22
2025-01-22 13:11:25 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:25 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 13:11:25 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:25 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 13:11:25 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:15:00:00 iSelectId: 1-2025-01-22-15:00:00 appointment_id: 17
2025-01-22 13:11:25 [DEBUG]: Executing query for Appointment_ID: 17, Column: Appointment_Time, Value: 15:00:00
2025-01-22 13:11:25 [INFO]: Appointment updated successfully
2025-01-22 13:11:25 [INFO]: Appointment updated successfully
2025-01-22 13:11:25 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 13:11:25 [DEBUG]: Executing query for Appointment_ID: 17
2025-01-22 13:11:25 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:11:26 [INFO]: Message sent successfully
2025-01-22 13:11:26 [INFO]: Radio button message sent successfully
2025-01-22 13:11:32 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 13:11:32 [DEBUG]: Message type: interactive
2025-01-22 13:11:32 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:32 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:32 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:32 [INFO]: Query results:
2025-01-22 13:11:32 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:32 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:32 [INFO]: Title: Confirm ID: 1~20~Confirm~17,1~19~1-2025-01-22-15:00:00
2025-01-22 13:11:32 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:32 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 13:11:32 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:32 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 13:11:32 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 17
2025-01-22 13:11:32 [DEBUG]: Executing query for Appointment_ID: 17, Key: Confirm_Status
2025-01-22 13:11:32 [INFO]: JSON data updated successfully
2025-01-22 13:11:32 [INFO]: JSON data updated successfully
2025-01-22 13:11:32 [INFO]: Appointment updated successfully
2025-01-22 13:11:33 [INFO]: Message sent successfully
2025-01-22 13:11:33 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 13:11:34 [INFO]: Message sent successfully
2025-01-22 13:11:35 [INFO]: Message sent successfully
2025-01-22 13:11:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 13:11:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 13:11:36 [INFO]: Interactive message sent successfully
2025-01-22 13:11:40 [INFO]: Message received from: 919094995418, Content: Finalize
2025-01-22 13:11:40 [DEBUG]: Message type: interactive
2025-01-22 13:11:40 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:11:40 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:11:40 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:11:40 [INFO]: Query results:
2025-01-22 13:11:40 [INFO]: Handling user view for: 919094995418
2025-01-22 13:11:40 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:11:40 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmPV2tCxAakMFX~17,1~21~Confirm
2025-01-22 13:11:40 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:11:40 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 13:11:40 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:11:40 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 13:11:40 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmPV2tCxAakMFX appointment_id: 17
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17, Key: Finalize_Status
2025-01-22 13:11:40 [INFO]: JSON data updated successfully
2025-01-22 13:11:40 [INFO]: JSON data updated successfully
2025-01-22 13:11:40 [INFO]: Appointment updated successfully
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17, Column: Payment_Status, Value: Pay_later
2025-01-22 13:11:40 [INFO]: Appointment updated successfully
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17, Column: Status, Value: Confirmed
2025-01-22 13:11:40 [INFO]: Appointment updated successfully
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17, Column: Is_Active, Value: 1
2025-01-22 13:11:40 [INFO]: Appointment updated successfully
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17
2025-01-22 13:11:40 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:11:40 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:11:40 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-22, Start_Time: 15:00:00
2025-01-22 13:11:40 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 13:11:40 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 13:11:40 [INFO]: Message sent successfully
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17
2025-01-22 13:11:40 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 13:11:40 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 13:11:40 [DEBUG]: Executing query for Appointment_ID: 17
2025-01-22 13:11:40 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 13:11:41 [INFO]: Message sent successfully
2025-01-22 13:11:41 [INFO]: Appointment confirmed successfully
2025-01-22 13:14:58 [INFO]:  connected to MySQL database.
2025-01-22 13:14:58 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:15:02 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 13:15:02 [DEBUG]: Message type: text
2025-01-22 13:15:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:02 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:02 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:02 [INFO]: Query results:
2025-01-22 13:15:02 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:02 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:02 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:03 [INFO]: Message sent successfully
2025-01-22 13:15:03 [INFO]: Welcome message sent to 917299817996
2025-01-22 13:15:03 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:15:03 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:15:03 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:15:03 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:03 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:05 [DEBUG]: Image uploaded successfully:
2025-01-22 13:15:06 [INFO]: Interactive message sent successfully
2025-01-22 13:15:06 [INFO]: Main menu sent to 917299817996
2025-01-22 13:15:06 [INFO]: user Id: 2
2025-01-22 13:15:12 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 13:15:12 [DEBUG]: Message type: interactive
2025-01-22 13:15:12 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:12 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:12 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:12 [INFO]: Query results:
2025-01-22 13:15:12 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:12 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:12 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:15:12 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:12 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 13:15:12 [INFO]: Appointment id: 18
2025-01-22 13:15:12 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:15:12 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:15:12 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:12 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:12 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:12 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:15:13 [INFO]: Radio button message sent successfully
2025-01-22 13:15:13 [INFO]: Interactive message sent successfully
2025-01-22 13:15:13 [INFO]: Back button sent to 917299817996
2025-01-22 13:15:34 [INFO]: Message received from: 917299817996, Content: Direct Consultation
2025-01-22 13:15:34 [DEBUG]: Message type: interactive
2025-01-22 13:15:34 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:34 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:34 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:34 [INFO]: Query results:
2025-01-22 13:15:34 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:34 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:34 [INFO]: Title: Direct Consultation ID: 1~6~undefined~18,1~1~1
2025-01-22 13:15:34 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:34 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 13:15:34 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:15:34 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 13:15:34 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 18
2025-01-22 13:15:34 [DEBUG]: Executing query for Appointment_ID: 18, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 13:15:34 [INFO]: Appointment updated successfully
2025-01-22 13:15:34 [INFO]: Appointment updated successfully
2025-01-22 13:15:34 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 13:15:34 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 13:15:34 [INFO]: Query results:
2025-01-22 13:15:35 [INFO]: Radio button message sent successfully
2025-01-22 13:15:36 [INFO]: Interactive message sent successfully
2025-01-22 13:15:36 [INFO]: Back button sent to 917299817996
2025-01-22 13:15:42 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 13:15:42 [DEBUG]: Message type: interactive
2025-01-22 13:15:42 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:42 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:42 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:42 [INFO]: Query results:
2025-01-22 13:15:42 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:42 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:42 [INFO]: Title: Cardiology ID: 1~16~1~18,1~6~undefined
2025-01-22 13:15:42 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:42 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 13:15:42 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:15:42 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 13:15:42 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 18
2025-01-22 13:15:42 [DEBUG]: Executing query for Appointment_ID: 18, Key: Department
2025-01-22 13:15:42 [INFO]: JSON data updated successfully
2025-01-22 13:15:42 [INFO]: JSON data updated successfully
2025-01-22 13:15:42 [INFO]: Appointment updated successfully
2025-01-22 13:15:42 [DEBUG]: Executing query for Appointment_ID: 18, Key: Department
2025-01-22 13:15:42 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 13:15:42 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 13:15:42 [INFO]: Query results:
2025-01-22 13:15:43 [INFO]: Radio button message sent successfully
2025-01-22 13:15:43 [INFO]: Interactive message sent successfully
2025-01-22 13:15:43 [INFO]: Back button sent to 917299817996
2025-01-22 13:15:47 [INFO]: Message received from: 917299817996, Content: Dr. Harry Smith
2025-01-22 13:15:47 [DEBUG]: Message type: interactive
2025-01-22 13:15:47 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:47 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:47 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:47 [INFO]: Query results:
2025-01-22 13:15:47 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:47 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:47 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~18,1~16~1
2025-01-22 13:15:47 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:47 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 13:15:47 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:15:47 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 13:15:47 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 18
2025-01-22 13:15:47 [DEBUG]: Executing query for Appointment_ID: 18, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 13:15:47 [INFO]: POC ID and JSON data updated successfully
2025-01-22 13:15:47 [INFO]: Appointment updated successfully
2025-01-22 13:15:47 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 13:15:47 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 13:15:48 [INFO]: Radio button message sent successfully
2025-01-22 13:15:49 [INFO]: Interactive message sent successfully
2025-01-22 13:15:49 [INFO]: Back button sent to 917299817996
2025-01-22 13:15:51 [INFO]: Message received from: 917299817996, Content: Back
2025-01-22 13:15:51 [DEBUG]: Message type: interactive
2025-01-22 13:15:51 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:15:51 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:15:51 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:15:51 [INFO]: Query results:
2025-01-22 13:15:51 [INFO]: Handling user view for: 917299817996
2025-01-22 13:15:51 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:15:51 [INFO]: Title: Back ID: 1~16~1~18,1~18~undefined
2025-01-22 13:15:51 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:15:51 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 13:15:51 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:15:51 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 13:15:51 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Back iSelectId: 1 appointment_id: 18
2025-01-22 13:15:51 [DEBUG]: Executing query for Appointment_ID: 18, Key: Department
2025-01-22 13:15:51 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 13:15:51 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 13:15:51 [INFO]: Query results:
2025-01-22 13:15:52 [INFO]: Radio button message sent successfully
2025-01-22 13:15:52 [INFO]: Interactive message sent successfully
2025-01-22 13:15:52 [INFO]: Back button sent to 917299817996
2025-01-22 13:16:17 [INFO]: Message received from: 917299817996, Content: Dr. Bob
2025-01-22 13:16:17 [DEBUG]: Message type: interactive
2025-01-22 13:16:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:16:17 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:16:17 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:16:17 [INFO]: Query results:
2025-01-22 13:16:17 [INFO]: Handling user view for: 917299817996
2025-01-22 13:16:17 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:16:17 [INFO]: Title: Dr. Bob ID: 1~17~5~18,1~16~1
2025-01-22 13:16:17 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:16:17 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 13:16:17 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:17 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 13:16:17 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Bob iSelectId: 5 appointment_id: 18
2025-01-22 13:16:17 [DEBUG]: Executing query for Appointment_ID: 18, POC_ID: 5, Poc_name: Dr. Bob
2025-01-22 13:16:17 [INFO]: POC ID and JSON data updated successfully
2025-01-22 13:16:17 [INFO]: Appointment updated successfully
2025-01-22 13:16:17 [DEBUG]: Executing query for Client_ID: 1, Specialization: 5
2025-01-22 13:16:17 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 5
2025-01-22 13:16:18 [INFO]: Radio button message sent successfully
2025-01-22 13:16:19 [INFO]: Interactive message sent successfully
2025-01-22 13:16:19 [INFO]: Back button sent to 917299817996
2025-01-22 13:16:23 [INFO]: Message received from: 917299817996, Content: 2025-01-29
2025-01-22 13:16:23 [DEBUG]: Message type: interactive
2025-01-22 13:16:23 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:16:23 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:16:23 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:16:23 [INFO]: Query results:
2025-01-22 13:16:23 [INFO]: Handling user view for: 917299817996
2025-01-22 13:16:23 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:16:23 [INFO]: Title: 2025-01-29 ID: 1~18~5-2025-01-29~18,1~17~5
2025-01-22 13:16:23 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:16:23 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 13:16:23 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:23 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:16:23 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-29 iSelectId: 5-2025-01-29 appointment_id: 18
2025-01-22 13:16:23 [DEBUG]: Executing query for Appointment_ID: 18, Column: Appointment_Date, Value: 2025-01-29
2025-01-22 13:16:23 [INFO]: Appointment updated successfully
2025-01-22 13:16:23 [INFO]: Appointment updated successfully
2025-01-22 13:16:23 [DEBUG]: Executing query for Appointment_ID: 18, Key: Appointment_Date
2025-01-22 13:16:23 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 5-2025-01-29, iValue: 2025-01-29
2025-01-22 13:16:23 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 5-2025-01-29, Schedule_Date: 2025-01-29
2025-01-22 13:16:24 [INFO]: Radio button message sent successfully
2025-01-22 13:16:24 [INFO]: Interactive message sent successfully
2025-01-22 13:16:24 [INFO]: Back button sent to 917299817996
2025-01-22 13:16:28 [INFO]: Message received from: 917299817996, Content: 15:00:00
2025-01-22 13:16:28 [DEBUG]: Message type: interactive
2025-01-22 13:16:28 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:16:28 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:16:28 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:16:28 [INFO]: Query results:
2025-01-22 13:16:28 [INFO]: Handling user view for: 917299817996
2025-01-22 13:16:28 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:16:28 [INFO]: Title: 15:00:00 ID: 1~19~5-2025-01-29-15:00:00~18,1~18~5-2025-01-29
2025-01-22 13:16:28 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:16:28 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 13:16:28 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:28 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 13:16:28 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:15:00:00 iSelectId: 5-2025-01-29-15:00:00 appointment_id: 18
2025-01-22 13:16:28 [DEBUG]: Executing query for Appointment_ID: 18, Column: Appointment_Time, Value: 15:00:00
2025-01-22 13:16:28 [INFO]: Appointment updated successfully
2025-01-22 13:16:28 [INFO]: Appointment updated successfully
2025-01-22 13:16:28 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 13:16:28 [DEBUG]: Executing query for Appointment_ID: 18
2025-01-22 13:16:28 [INFO]: JSON Data: {
  "Poc_ID": "5",
  "Poc_name": "Dr. Bob",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-29",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:16:28 [INFO]: Message sent successfully
2025-01-22 13:16:29 [INFO]: Radio button message sent successfully
2025-01-22 13:16:30 [INFO]: Interactive message sent successfully
2025-01-22 13:16:30 [INFO]: Back button sent to 917299817996
2025-01-22 13:16:35 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 13:16:35 [DEBUG]: Message type: interactive
2025-01-22 13:16:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:16:35 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:16:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:16:35 [INFO]: Query results:
2025-01-22 13:16:35 [INFO]: Handling user view for: 917299817996
2025-01-22 13:16:35 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:16:35 [INFO]: Title: Confirm ID: 1~20~Confirm~18,1~19~5-2025-01-29-15:00:00
2025-01-22 13:16:35 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:16:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 13:16:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 13:16:35 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 18
2025-01-22 13:16:35 [DEBUG]: Executing query for Appointment_ID: 18, Key: Confirm_Status
2025-01-22 13:16:35 [INFO]: JSON data updated successfully
2025-01-22 13:16:35 [INFO]: JSON data updated successfully
2025-01-22 13:16:35 [INFO]: Appointment updated successfully
2025-01-22 13:16:36 [INFO]: Message sent successfully
2025-01-22 13:16:36 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 13:16:37 [INFO]: Message sent successfully
2025-01-22 13:16:37 [INFO]: Message sent successfully
2025-01-22 13:16:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 13:16:37 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 13:16:38 [INFO]: Interactive message sent successfully
2025-01-22 13:16:40 [INFO]: Message received from: 917299817996, Content: Finalize
2025-01-22 13:16:40 [DEBUG]: Message type: interactive
2025-01-22 13:16:40 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:16:40 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:16:40 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:16:40 [INFO]: Query results:
2025-01-22 13:16:40 [INFO]: Handling user view for: 917299817996
2025-01-22 13:16:40 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:16:40 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmPaNIhluKsrWt~18,1~21~Confirm
2025-01-22 13:16:40 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:16:40 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 13:16:40 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:16:40 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 13:16:40 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmPaNIhluKsrWt appointment_id: 18
2025-01-22 13:16:40 [DEBUG]: Executing query for Appointment_ID: 18, Key: Finalize_Status
2025-01-22 13:16:40 [INFO]: JSON data updated successfully
2025-01-22 13:16:40 [INFO]: JSON data updated successfully
2025-01-22 13:16:40 [INFO]: Appointment updated successfully
2025-01-22 13:16:40 [DEBUG]: Executing query for Appointment_ID: 18, Column: Payment_Status, Value: Pay_later
2025-01-22 13:16:40 [INFO]: Appointment updated successfully
2025-01-22 13:16:40 [DEBUG]: Executing query for Appointment_ID: 18, Column: Status, Value: Confirmed
2025-01-22 13:16:40 [INFO]: Appointment updated successfully
2025-01-22 13:16:40 [DEBUG]: Executing query for Appointment_ID: 18, Column: Is_Active, Value: 1
2025-01-22 13:16:40 [INFO]: Appointment updated successfully
2025-01-22 13:16:40 [DEBUG]: Executing query for Appointment_ID: 18
2025-01-22 13:16:40 [INFO]: JSON Data: {
  "Poc_ID": "5",
  "Status": "Confirmed",
  "Poc_name": "Dr. Bob",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-29",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:16:40 [INFO]: updateAvailableSlots: {
  "Poc_ID": "5",
  "Status": "Confirmed",
  "Poc_name": "Dr. Bob",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-29",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 13:16:40 [DEBUG]: Executing query for POC_ID: 5, Schedule_Date: 2025-01-29, Start_Time: 15:00:00
2025-01-22 13:16:40 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 13:16:40 [DEBUG]: Executing query for POC_ID: 5
2025-01-22 13:16:41 [INFO]: Message sent successfully
2025-01-22 13:16:41 [DEBUG]: Executing query for Appointment_ID: 18
2025-01-22 13:16:41 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 13:16:41 [DEBUG]: Executing query for POC_ID: 5
2025-01-22 13:16:41 [DEBUG]: Executing query for Appointment_ID: 18
2025-01-22 13:16:41 [DEBUG]: Executing query for POC_ID: 5
2025-01-22 13:16:41 [INFO]: Message sent successfully
2025-01-22 13:16:41 [INFO]: Appointment confirmed successfully
2025-01-22 13:22:05 [INFO]:  connected to MySQL database.
2025-01-22 13:22:05 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:22:30 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 13:22:30 [DEBUG]: Message type: text
2025-01-22 13:22:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:30 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:22:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:22:30 [INFO]: Query results:
2025-01-22 13:22:30 [INFO]: Handling user view for: 917299817996
2025-01-22 13:22:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:30 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:22:30 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:22:31 [INFO]: Message sent successfully
2025-01-22 13:22:31 [INFO]: Welcome message sent to 917299817996
2025-01-22 13:22:31 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:22:31 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:22:31 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:22:31 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:31 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:33 [DEBUG]: Image uploaded successfully:
2025-01-22 13:22:34 [INFO]: Interactive message sent successfully
2025-01-22 13:22:34 [INFO]: Main menu sent to 917299817996
2025-01-22 13:22:34 [INFO]: user Id: 2
2025-01-22 13:22:36 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 13:22:36 [DEBUG]: Message type: interactive
2025-01-22 13:22:36 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:36 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:22:36 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:22:36 [INFO]: Query results:
2025-01-22 13:22:36 [INFO]: Handling user view for: 917299817996
2025-01-22 13:22:36 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:22:36 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:22:36 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:22:37 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 13:22:37 [INFO]: Appointment id: 19
2025-01-22 13:22:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:22:37 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:22:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:37 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:37 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:37 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:22:38 [INFO]: Radio button message sent successfully
2025-01-22 13:22:38 [INFO]: Interactive message sent successfully
2025-01-22 13:22:38 [INFO]: Back button sent to 917299817996
2025-01-22 13:22:45 [INFO]: Message received from: 917299817996, Content: Master Health Checkup
2025-01-22 13:22:45 [DEBUG]: Message type: interactive
2025-01-22 13:22:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:45 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:22:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:22:45 [INFO]: Query results:
2025-01-22 13:22:45 [INFO]: Handling user view for: 917299817996
2025-01-22 13:22:45 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:22:45 [INFO]: Title: Master Health Checkup ID: 1~7~undefined~19,1~1~1
2025-01-22 13:22:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:22:45 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 7
2025-01-22 13:22:45 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:22:45 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":8,"MENU_NAME":"Select Date Checkup","HEADER_MESSAGE":"Select a date","ACTION":"Appointment_Type~FETCH_AVAILABLE_DATES_CHECKUP"}
2025-01-22 13:22:45 [INFO]: handleAction: iAction:Appointment_Type,FETCH_AVAILABLE_DATES_CHECKUP ,iClientID:1 ,iMenuId:8, iUserValue:Master Health Checkup iSelectId: undefined appointment_id: 19
2025-01-22 13:22:45 [DEBUG]: Executing query for Appointment_ID: 19, Column: Appointment_Type, Value: Master Health Checkup
2025-01-22 13:22:45 [INFO]: Appointment updated successfully
2025-01-22 13:22:45 [INFO]: Appointment updated successfully
2025-01-22 13:22:45 [DEBUG]: Executing query for Appointment_ID: 19, Key: Appointment_Type
2025-01-22 13:22:45 [DEBUG]: Executing query for Client_ID: 1, Specialization: Master Health Checkup
2025-01-22 13:22:45 [DEBUG]: Executing query for Appointment_ID: 19, Column: POC_ID, Value: 4
2025-01-22 13:22:45 [DEBUG]: Executing query for Appointment_ID: 19, Key: Poc_ID
2025-01-22 13:22:45 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 8, POC_ID: 4
2025-01-22 13:22:45 [INFO]: Appointment updated successfully
2025-01-22 13:22:45 [INFO]: JSON data updated successfully
2025-01-22 13:22:46 [INFO]: Radio button message sent successfully
2025-01-22 13:22:47 [INFO]: Interactive message sent successfully
2025-01-22 13:22:47 [INFO]: Back button sent to 917299817996
2025-01-22 13:22:54 [INFO]: Message received from: 917299817996, Content: 2025-01-31
2025-01-22 13:22:54 [DEBUG]: Message type: interactive
2025-01-22 13:22:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:55 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:22:55 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:22:55 [INFO]: Query results:
2025-01-22 13:22:55 [INFO]: Handling user view for: 917299817996
2025-01-22 13:22:55 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:22:55 [INFO]: Title: 2025-01-31 ID: 1~8~4-2025-01-31~19,1~7~undefined
2025-01-22 13:22:55 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:22:55 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 8
2025-01-22 13:22:55 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:22:55 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":9,"MENU_NAME":"Select Time Checkup","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:22:55 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:9, iUserValue:2025-01-31 iSelectId: 4-2025-01-31 appointment_id: 19
2025-01-22 13:22:55 [DEBUG]: Executing query for Appointment_ID: 19, Column: Appointment_Date, Value: 2025-01-31
2025-01-22 13:22:55 [INFO]: Appointment updated successfully
2025-01-22 13:22:55 [INFO]: Appointment updated successfully
2025-01-22 13:22:55 [DEBUG]: Executing query for Appointment_ID: 19, Key: Appointment_Date
2025-01-22 13:22:55 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 9, iKey: 4-2025-01-31, iValue: 2025-01-31
2025-01-22 13:22:55 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 9, POC_ID: 4-2025-01-31, Schedule_Date: 2025-01-31
2025-01-22 13:22:55 [INFO]: Radio button message sent successfully
2025-01-22 13:22:56 [INFO]: Interactive message sent successfully
2025-01-22 13:22:56 [INFO]: Back button sent to 917299817996
2025-01-22 13:22:59 [INFO]: Message received from: 917299817996, Content: 15:00:00
2025-01-22 13:22:59 [DEBUG]: Message type: interactive
2025-01-22 13:22:59 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:22:59 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:22:59 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:22:59 [INFO]: Query results:
2025-01-22 13:22:59 [INFO]: Handling user view for: 917299817996
2025-01-22 13:22:59 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:22:59 [INFO]: Title: 15:00:00 ID: 1~9~4-2025-01-31-15:00:00~19,1~8~4-2025-01-31
2025-01-22 13:22:59 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:22:59 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 9
2025-01-22 13:22:59 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:22:59 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":10,"MENU_NAME":"Confirm Checkup Appointment","HEADER_MESSAGE":"Please Confirm Your details","ACTION":"Appointment_Time~CONFIRM~CONFIRM_CHECKUP"}
2025-01-22 13:22:59 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_CHECKUP ,iClientID:1 ,iMenuId:10, iUserValue:15:00:00 iSelectId: 4-2025-01-31-15:00:00 appointment_id: 19
2025-01-22 13:22:59 [DEBUG]: Executing query for Appointment_ID: 19, Column: Appointment_Time, Value: 15:00:00
2025-01-22 13:22:59 [INFO]: Appointment updated successfully
2025-01-22 13:22:59 [INFO]: Appointment updated successfully
2025-01-22 13:22:59 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_CHECKUP
2025-01-22 13:22:59 [DEBUG]: Executing query for Appointment_ID: 19
2025-01-22 13:22:59 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Appointment_Date": "2025-01-31",
  "Appointment_Time": "15:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:23:00 [INFO]: Message sent successfully
2025-01-22 13:23:01 [INFO]: Radio button message sent successfully
2025-01-22 13:23:01 [INFO]: Interactive message sent successfully
2025-01-22 13:23:01 [INFO]: Back button sent to 917299817996
2025-01-22 13:23:05 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 13:23:05 [DEBUG]: Message type: interactive
2025-01-22 13:23:05 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:23:05 [INFO]: getFromPOC: from:917299817996
2025-01-22 13:23:05 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 13:23:05 [INFO]: Query results:
2025-01-22 13:23:05 [INFO]: Handling user view for: 917299817996
2025-01-22 13:23:05 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 13:23:05 [INFO]: Title: Confirm ID: 1~10~Confirm~19,1~9~4-2025-01-31-15:00:00
2025-01-22 13:23:05 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:23:05 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 10
2025-01-22 13:23:05 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:23:05 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":11,"MENU_NAME":"Make Payment for Master Health","HEADER_MESSAGE":"Please make a payment to confirm your Master Health appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_MASTER_HEALTH"}
2025-01-22 13:23:05 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_MASTER_HEALTH ,iClientID:1 ,iMenuId:11, iUserValue:Confirm iSelectId: Confirm appointment_id: 19
2025-01-22 13:23:05 [DEBUG]: Executing query for Appointment_ID: 19, Key: Confirm_Status
2025-01-22 13:23:05 [INFO]: JSON data updated successfully
2025-01-22 13:23:05 [INFO]: JSON data updated successfully
2025-01-22 13:23:05 [INFO]: Appointment updated successfully
2025-01-22 13:23:05 [ERROR]: Error fetching main menu: Request failed with status code 400
2025-01-22 13:23:06 [INFO]: Message sent successfully
2025-01-22 13:30:09 [INFO]:  connected to MySQL database.
2025-01-22 13:30:09 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:30:17 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 13:30:17 [DEBUG]: Message type: text
2025-01-22 13:30:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:17 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:17 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:17 [INFO]: Query results:
2025-01-22 13:30:17 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:17 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:17 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:18 [INFO]: Message sent successfully
2025-01-22 13:30:18 [INFO]: Welcome message sent to 919094995418
2025-01-22 13:30:18 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:30:18 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:30:18 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:30:18 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:18 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:20 [DEBUG]: Image uploaded successfully:
2025-01-22 13:30:21 [INFO]: Interactive message sent successfully
2025-01-22 13:30:21 [INFO]: Main menu sent to 919094995418
2025-01-22 13:30:21 [INFO]: user Id: 1
2025-01-22 13:30:24 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 13:30:24 [DEBUG]: Message type: interactive
2025-01-22 13:30:24 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:24 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:24 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:24 [INFO]: Query results:
2025-01-22 13:30:24 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:24 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:24 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:30:24 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:24 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 13:30:24 [INFO]: Appointment id: 20
2025-01-22 13:30:24 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:30:24 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:30:24 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:24 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:24 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:24 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:30:25 [INFO]: Radio button message sent successfully
2025-01-22 13:30:26 [INFO]: Interactive message sent successfully
2025-01-22 13:30:26 [INFO]: Back button sent to 919094995418
2025-01-22 13:30:32 [INFO]: Message received from: 919094995418, Content: Master Health Checkup
2025-01-22 13:30:32 [DEBUG]: Message type: interactive
2025-01-22 13:30:32 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:32 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:32 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:32 [INFO]: Query results:
2025-01-22 13:30:32 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:32 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:32 [INFO]: Title: Master Health Checkup ID: 1~7~undefined~20,1~1~1
2025-01-22 13:30:32 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:32 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 7
2025-01-22 13:30:32 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:30:32 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":8,"MENU_NAME":"Select Date Checkup","HEADER_MESSAGE":"Select a date","ACTION":"Appointment_Type~FETCH_AVAILABLE_DATES_CHECKUP"}
2025-01-22 13:30:32 [INFO]: handleAction: iAction:Appointment_Type,FETCH_AVAILABLE_DATES_CHECKUP ,iClientID:1 ,iMenuId:8, iUserValue:Master Health Checkup iSelectId: undefined appointment_id: 20
2025-01-22 13:30:32 [DEBUG]: Executing query for Appointment_ID: 20, Column: Appointment_Type, Value: Master Health Checkup
2025-01-22 13:30:32 [INFO]: Appointment updated successfully
2025-01-22 13:30:32 [INFO]: Appointment updated successfully
2025-01-22 13:30:32 [DEBUG]: Executing query for Appointment_ID: 20, Key: Appointment_Type
2025-01-22 13:30:32 [DEBUG]: Executing query for Client_ID: 1, Specialization: Master Health Checkup
2025-01-22 13:30:32 [DEBUG]: Executing query for Appointment_ID: 20, Column: POC_ID, Value: 4
2025-01-22 13:30:32 [DEBUG]: Executing query for Appointment_ID: 20, Key: Poc_ID
2025-01-22 13:30:32 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 8, POC_ID: 4
2025-01-22 13:30:32 [INFO]: Appointment updated successfully
2025-01-22 13:30:32 [INFO]: JSON data updated successfully
2025-01-22 13:30:33 [INFO]: Radio button message sent successfully
2025-01-22 13:30:34 [INFO]: Interactive message sent successfully
2025-01-22 13:30:34 [INFO]: Back button sent to 919094995418
2025-01-22 13:30:39 [INFO]: Message received from: 919094995418, Content: 2025-01-22
2025-01-22 13:30:39 [DEBUG]: Message type: interactive
2025-01-22 13:30:39 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:39 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:39 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:39 [INFO]: Query results:
2025-01-22 13:30:39 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:39 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:39 [INFO]: Title: 2025-01-22 ID: 1~8~4-2025-01-22~20,1~7~undefined
2025-01-22 13:30:39 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:39 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 8
2025-01-22 13:30:39 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:30:39 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":9,"MENU_NAME":"Select Time Checkup","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:30:39 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:9, iUserValue:2025-01-22 iSelectId: 4-2025-01-22 appointment_id: 20
2025-01-22 13:30:39 [DEBUG]: Executing query for Appointment_ID: 20, Column: Appointment_Date, Value: 2025-01-22
2025-01-22 13:30:39 [INFO]: Appointment updated successfully
2025-01-22 13:30:39 [INFO]: Appointment updated successfully
2025-01-22 13:30:39 [DEBUG]: Executing query for Appointment_ID: 20, Key: Appointment_Date
2025-01-22 13:30:39 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 9, iKey: 4-2025-01-22, iValue: 2025-01-22
2025-01-22 13:30:39 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 9, POC_ID: 4-2025-01-22, Schedule_Date: 2025-01-22
2025-01-22 13:30:40 [INFO]: Radio button message sent successfully
2025-01-22 13:30:41 [INFO]: Interactive message sent successfully
2025-01-22 13:30:41 [INFO]: Back button sent to 919094995418
2025-01-22 13:30:52 [INFO]: Message received from: 919094995418, Content: 14:00:00
2025-01-22 13:30:52 [DEBUG]: Message type: interactive
2025-01-22 13:30:52 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:52 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:52 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:52 [INFO]: Query results:
2025-01-22 13:30:52 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:52 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:52 [INFO]: Title: 14:00:00 ID: 1~9~4-2025-01-22-14:00:00~20,1~8~4-2025-01-22
2025-01-22 13:30:52 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:52 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 9
2025-01-22 13:30:52 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:30:52 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":10,"MENU_NAME":"Confirm Checkup Appointment","HEADER_MESSAGE":"Please Confirm Your details","ACTION":"Appointment_Time~CONFIRM~CONFIRM_CHECKUP"}
2025-01-22 13:30:52 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_CHECKUP ,iClientID:1 ,iMenuId:10, iUserValue:14:00:00 iSelectId: 4-2025-01-22-14:00:00 appointment_id: 20
2025-01-22 13:30:52 [DEBUG]: Executing query for Appointment_ID: 20, Column: Appointment_Time, Value: 14:00:00
2025-01-22 13:30:52 [INFO]: Appointment updated successfully
2025-01-22 13:30:52 [INFO]: Appointment updated successfully
2025-01-22 13:30:52 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_CHECKUP
2025-01-22 13:30:52 [DEBUG]: Executing query for Appointment_ID: 20
2025-01-22 13:30:52 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "14:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:30:53 [INFO]: Message sent successfully
2025-01-22 13:30:53 [INFO]: Radio button message sent successfully
2025-01-22 13:30:54 [INFO]: Interactive message sent successfully
2025-01-22 13:30:54 [INFO]: Back button sent to 919094995418
2025-01-22 13:30:58 [INFO]: Message received from: 919094995418, Content: Back
2025-01-22 13:30:58 [DEBUG]: Message type: interactive
2025-01-22 13:30:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:30:58 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:30:58 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:30:58 [INFO]: Query results:
2025-01-22 13:30:58 [INFO]: Handling user view for: 919094995418
2025-01-22 13:30:58 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:30:58 [INFO]: Title: Back ID: 1~8~4-2025-01-22~20,1~10~undefined
2025-01-22 13:30:58 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:30:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 8
2025-01-22 13:30:58 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:30:58 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":9,"MENU_NAME":"Select Time Checkup","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:30:58 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:9, iUserValue:Back iSelectId: 4-2025-01-22 appointment_id: 20
2025-01-22 13:30:58 [DEBUG]: Executing query for Appointment_ID: 20, Key: Appointment_Date
2025-01-22 13:30:58 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 9, iKey: 4-2025-01-22, iValue: 2025-01-22
2025-01-22 13:30:58 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 9, POC_ID: 4-2025-01-22, Schedule_Date: 2025-01-22
2025-01-22 13:30:58 [INFO]: Radio button message sent successfully
2025-01-22 13:30:59 [INFO]: Interactive message sent successfully
2025-01-22 13:30:59 [INFO]: Back button sent to 919094995418
2025-01-22 13:31:06 [INFO]: Message received from: 919094995418, Content: 14:00:00
2025-01-22 13:31:06 [DEBUG]: Message type: interactive
2025-01-22 13:31:06 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:31:06 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:31:06 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:31:06 [INFO]: Query results:
2025-01-22 13:31:06 [INFO]: Handling user view for: 919094995418
2025-01-22 13:31:06 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:31:06 [INFO]: Title: 14:00:00 ID: 1~9~4-2025-01-22-14:00:00~20,1~8~4-2025-01-22
2025-01-22 13:31:06 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:31:06 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 9
2025-01-22 13:31:06 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:31:06 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":10,"MENU_NAME":"Confirm Checkup Appointment","HEADER_MESSAGE":"Please Confirm Your details","ACTION":"Appointment_Time~CONFIRM~CONFIRM_CHECKUP"}
2025-01-22 13:31:06 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_CHECKUP ,iClientID:1 ,iMenuId:10, iUserValue:14:00:00 iSelectId: 4-2025-01-22-14:00:00 appointment_id: 20
2025-01-22 13:31:06 [DEBUG]: Executing query for Appointment_ID: 20, Column: Appointment_Time, Value: 14:00:00
2025-01-22 13:31:06 [INFO]: Appointment updated successfully
2025-01-22 13:31:06 [INFO]: Appointment updated successfully
2025-01-22 13:31:06 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_CHECKUP
2025-01-22 13:31:06 [DEBUG]: Executing query for Appointment_ID: 20
2025-01-22 13:31:06 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "14:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:31:06 [INFO]: Message sent successfully
2025-01-22 13:31:07 [INFO]: Radio button message sent successfully
2025-01-22 13:31:08 [INFO]: Interactive message sent successfully
2025-01-22 13:31:08 [INFO]: Back button sent to 919094995418
2025-01-22 13:31:14 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 13:31:14 [DEBUG]: Message type: interactive
2025-01-22 13:31:14 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:31:14 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:31:14 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:31:14 [INFO]: Query results:
2025-01-22 13:31:14 [INFO]: Handling user view for: 919094995418
2025-01-22 13:31:14 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:31:14 [INFO]: Title: Confirm ID: 1~10~Confirm~20,1~9~4-2025-01-22-14:00:00
2025-01-22 13:31:14 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:31:14 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 10
2025-01-22 13:31:14 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:31:14 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":11,"MENU_NAME":"Finalize Master Health Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Confirm_Status~FINALIZE~FINALIZE_MASTER_HEALTH"}
2025-01-22 13:31:14 [INFO]: handleAction: iAction:Confirm_Status,FINALIZE,FINALIZE_MASTER_HEALTH ,iClientID:1 ,iMenuId:11, iUserValue:Confirm iSelectId: Confirm appointment_id: 20
2025-01-22 13:31:14 [DEBUG]: Executing query for Appointment_ID: 20, Key: Confirm_Status
2025-01-22 13:31:14 [INFO]: JSON data updated successfully
2025-01-22 13:31:14 [INFO]: JSON data updated successfully
2025-01-22 13:31:14 [INFO]: Appointment updated successfully
2025-01-22 13:31:14 [DEBUG]: Executing query for Appointment_ID: 20, Column: Status, Value: Confirmed
2025-01-22 13:31:14 [INFO]: Appointment updated successfully
2025-01-22 13:31:14 [DEBUG]: Executing query for Appointment_ID: 20, Column: Is_Active, Value: 1
2025-01-22 13:31:14 [INFO]: Appointment updated successfully
2025-01-22 13:31:14 [DEBUG]: Executing query for Appointment_ID: 20
2025-01-22 13:31:14 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "14:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:31:14 [INFO]: updateAvailableSlots: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "14:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:31:14 [DEBUG]: Executing query for POC_ID: 4, Schedule_Date: 2025-01-22, Start_Time: 14:00:00
2025-01-22 13:31:14 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_MASTER_HEALTH
2025-01-22 13:31:14 [ERROR]: Template for FINALIZE_MASTER_HEALTH not found for client 1
2025-01-22 13:31:14 [ERROR]: Error fetching main menu: Template for FINALIZE_MASTER_HEALTH not found for client 1
2025-01-22 13:31:14 [INFO]: Message sent successfully
2025-01-22 13:34:57 [INFO]:  connected to MySQL database.
2025-01-22 13:34:57 [INFO]: Server is running on http://localhost:6000
2025-01-22 13:35:02 [INFO]: Message received from: 919094995418, Content: HI
2025-01-22 13:35:02 [DEBUG]: Message type: text
2025-01-22 13:35:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:02 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:02 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:02 [INFO]: Query results:
2025-01-22 13:35:02 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:02 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:02 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:02 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:02 [INFO]: Message sent successfully
2025-01-22 13:35:02 [INFO]: Welcome message sent to 919094995418
2025-01-22 13:35:02 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 13:35:02 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 13:35:02 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 13:35:02 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:02 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:04 [DEBUG]: Image uploaded successfully:
2025-01-22 13:35:05 [INFO]: Interactive message sent successfully
2025-01-22 13:35:05 [INFO]: Main menu sent to 919094995418
2025-01-22 13:35:05 [INFO]: user Id: 1
2025-01-22 13:35:11 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 13:35:11 [DEBUG]: Message type: interactive
2025-01-22 13:35:11 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:11 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:11 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:11 [INFO]: Query results:
2025-01-22 13:35:11 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:11 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:11 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 13:35:11 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:11 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 13:35:11 [INFO]: Appointment id: 21
2025-01-22 13:35:11 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 13:35:11 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 13:35:11 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:11 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:11 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:11 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 13:35:12 [INFO]: Radio button message sent successfully
2025-01-22 13:35:12 [INFO]: Interactive message sent successfully
2025-01-22 13:35:12 [INFO]: Back button sent to 919094995418
2025-01-22 13:35:19 [INFO]: Message received from: 919094995418, Content: Master Health Checkup
2025-01-22 13:35:19 [DEBUG]: Message type: interactive
2025-01-22 13:35:19 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:19 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:19 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:19 [INFO]: Query results:
2025-01-22 13:35:19 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:19 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:19 [INFO]: Title: Master Health Checkup ID: 1~7~undefined~21,1~1~1
2025-01-22 13:35:19 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:19 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 7
2025-01-22 13:35:19 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:35:19 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":8,"MENU_NAME":"Select Date Checkup","HEADER_MESSAGE":"Select a date","ACTION":"Appointment_Type~FETCH_AVAILABLE_DATES_CHECKUP"}
2025-01-22 13:35:19 [INFO]: handleAction: iAction:Appointment_Type,FETCH_AVAILABLE_DATES_CHECKUP ,iClientID:1 ,iMenuId:8, iUserValue:Master Health Checkup iSelectId: undefined appointment_id: 21
2025-01-22 13:35:19 [DEBUG]: Executing query for Appointment_ID: 21, Column: Appointment_Type, Value: Master Health Checkup
2025-01-22 13:35:19 [INFO]: Appointment updated successfully
2025-01-22 13:35:19 [INFO]: Appointment updated successfully
2025-01-22 13:35:19 [DEBUG]: Executing query for Appointment_ID: 21, Key: Appointment_Type
2025-01-22 13:35:19 [DEBUG]: Executing query for Client_ID: 1, Specialization: Master Health Checkup
2025-01-22 13:35:19 [DEBUG]: Executing query for Appointment_ID: 21, Column: POC_ID, Value: 4
2025-01-22 13:35:19 [DEBUG]: Executing query for Appointment_ID: 21, Key: Poc_ID
2025-01-22 13:35:19 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 8, POC_ID: 4
2025-01-22 13:35:19 [INFO]: Appointment updated successfully
2025-01-22 13:35:19 [INFO]: JSON data updated successfully
2025-01-22 13:35:20 [INFO]: Radio button message sent successfully
2025-01-22 13:35:20 [INFO]: Interactive message sent successfully
2025-01-22 13:35:20 [INFO]: Back button sent to 919094995418
2025-01-22 13:35:28 [INFO]: Message received from: 919094995418, Content: 2025-01-23
2025-01-22 13:35:28 [DEBUG]: Message type: interactive
2025-01-22 13:35:28 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:28 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:28 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:28 [INFO]: Query results:
2025-01-22 13:35:28 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:28 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:28 [INFO]: Title: 2025-01-23 ID: 1~8~4-2025-01-23~21,1~7~undefined
2025-01-22 13:35:28 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:28 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 8
2025-01-22 13:35:28 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:35:28 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":9,"MENU_NAME":"Select Time Checkup","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 13:35:28 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:9, iUserValue:2025-01-23 iSelectId: 4-2025-01-23 appointment_id: 21
2025-01-22 13:35:28 [DEBUG]: Executing query for Appointment_ID: 21, Column: Appointment_Date, Value: 2025-01-23
2025-01-22 13:35:28 [INFO]: Appointment updated successfully
2025-01-22 13:35:28 [INFO]: Appointment updated successfully
2025-01-22 13:35:28 [DEBUG]: Executing query for Appointment_ID: 21, Key: Appointment_Date
2025-01-22 13:35:28 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 9, iKey: 4-2025-01-23, iValue: 2025-01-23
2025-01-22 13:35:28 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 9, POC_ID: 4-2025-01-23, Schedule_Date: 2025-01-23
2025-01-22 13:35:29 [INFO]: Radio button message sent successfully
2025-01-22 13:35:29 [INFO]: Interactive message sent successfully
2025-01-22 13:35:29 [INFO]: Back button sent to 919094995418
2025-01-22 13:35:37 [INFO]: Message received from: 919094995418, Content: 10:00:00
2025-01-22 13:35:37 [DEBUG]: Message type: interactive
2025-01-22 13:35:37 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:37 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:37 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:37 [INFO]: Query results:
2025-01-22 13:35:37 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:37 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:37 [INFO]: Title: 10:00:00 ID: 1~9~4-2025-01-23-10:00:00~21,1~8~4-2025-01-23
2025-01-22 13:35:37 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 9
2025-01-22 13:35:37 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:35:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":10,"MENU_NAME":"Confirm Checkup Appointment","HEADER_MESSAGE":"Please Confirm Your details","ACTION":"Appointment_Time~CONFIRM~CONFIRM_CHECKUP"}
2025-01-22 13:35:37 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_CHECKUP ,iClientID:1 ,iMenuId:10, iUserValue:10:00:00 iSelectId: 4-2025-01-23-10:00:00 appointment_id: 21
2025-01-22 13:35:37 [DEBUG]: Executing query for Appointment_ID: 21, Column: Appointment_Time, Value: 10:00:00
2025-01-22 13:35:37 [INFO]: Appointment updated successfully
2025-01-22 13:35:37 [INFO]: Appointment updated successfully
2025-01-22 13:35:37 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_CHECKUP
2025-01-22 13:35:37 [DEBUG]: Executing query for Appointment_ID: 21
2025-01-22 13:35:37 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:35:37 [INFO]: Message sent successfully
2025-01-22 13:35:38 [INFO]: Radio button message sent successfully
2025-01-22 13:35:39 [INFO]: Interactive message sent successfully
2025-01-22 13:35:39 [INFO]: Back button sent to 919094995418
2025-01-22 13:35:45 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 13:35:45 [DEBUG]: Message type: interactive
2025-01-22 13:35:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 13:35:45 [INFO]: getFromPOC: from:919094995418
2025-01-22 13:35:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 13:35:45 [INFO]: Query results:
2025-01-22 13:35:45 [INFO]: Handling user view for: 919094995418
2025-01-22 13:35:45 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 13:35:45 [INFO]: Title: Confirm ID: 1~10~Confirm~21,1~9~4-2025-01-23-10:00:00
2025-01-22 13:35:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 13:35:45 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 10
2025-01-22 13:35:45 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 13:35:45 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":11,"MENU_NAME":"Finalize Master Health Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Confirm_Status~FINALIZE~FINALIZE_CHECKUP"}
2025-01-22 13:35:45 [INFO]: handleAction: iAction:Confirm_Status,FINALIZE,FINALIZE_CHECKUP ,iClientID:1 ,iMenuId:11, iUserValue:Confirm iSelectId: Confirm appointment_id: 21
2025-01-22 13:35:45 [DEBUG]: Executing query for Appointment_ID: 21, Key: Confirm_Status
2025-01-22 13:35:45 [INFO]: JSON data updated successfully
2025-01-22 13:35:45 [INFO]: JSON data updated successfully
2025-01-22 13:35:45 [INFO]: Appointment updated successfully
2025-01-22 13:35:45 [DEBUG]: Executing query for Appointment_ID: 21, Column: Status, Value: Confirmed
2025-01-22 13:35:45 [INFO]: Appointment updated successfully
2025-01-22 13:35:45 [DEBUG]: Executing query for Appointment_ID: 21, Column: Is_Active, Value: 1
2025-01-22 13:35:45 [INFO]: Appointment updated successfully
2025-01-22 13:35:45 [DEBUG]: Executing query for Appointment_ID: 21
2025-01-22 13:35:45 [INFO]: JSON Data: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:35:45 [INFO]: updateAvailableSlots: {
  "POC_ID": 4,
  "Poc_ID": 4,
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Master Health Checkup"
}
2025-01-22 13:35:45 [DEBUG]: Executing query for POC_ID: 4, Schedule_Date: 2025-01-23, Start_Time: 10:00:00
2025-01-22 13:35:45 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_CHECKUP
2025-01-22 13:35:45 [DEBUG]: Executing query for POC_ID: 4
2025-01-22 13:35:46 [INFO]: Message sent successfully
2025-01-22 13:35:46 [DEBUG]: Executing query for Appointment_ID: 21
2025-01-22 13:35:46 [INFO]: Appointment confirmed successfully
2025-01-22 13:35:46 [INFO]: Message sent successfully
2025-01-22 15:11:28 [INFO]:  connected to MySQL database.
2025-01-22 15:11:28 [INFO]: Server is running on http://localhost:6000
2025-01-22 15:11:35 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 15:11:35 [DEBUG]: Message type: text
2025-01-22 15:11:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:11:35 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:11:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:11:35 [INFO]: Query results:
2025-01-22 15:11:35 [INFO]: Handling user view for: 917299817996
2025-01-22 15:11:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:11:35 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:11:35 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:11:37 [INFO]: Message sent successfully
2025-01-22 15:11:37 [INFO]: Welcome message sent to 917299817996
2025-01-22 15:11:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 15:11:37 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 15:11:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 15:11:37 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:37 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:39 [DEBUG]: Image uploaded successfully:
2025-01-22 15:11:39 [INFO]: Interactive message sent successfully
2025-01-22 15:11:39 [INFO]: Main menu sent to 917299817996
2025-01-22 15:11:39 [INFO]: user Id: 2
2025-01-22 15:11:45 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 15:11:45 [DEBUG]: Message type: interactive
2025-01-22 15:11:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:11:45 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:11:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:11:45 [INFO]: Query results:
2025-01-22 15:11:45 [INFO]: Handling user view for: 917299817996
2025-01-22 15:11:45 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:11:45 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 15:11:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:11:45 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 15:11:45 [INFO]: Appointment id: 22
2025-01-22 15:11:45 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 15:11:45 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 15:11:45 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:45 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:45 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:45 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 15:11:46 [INFO]: Radio button message sent successfully
2025-01-22 15:11:46 [INFO]: Interactive message sent successfully
2025-01-22 15:11:46 [INFO]: Back button sent to 917299817996
2025-01-22 15:11:51 [INFO]: Message received from: 917299817996, Content: Tele Consultation
2025-01-22 15:11:51 [DEBUG]: Message type: interactive
2025-01-22 15:11:51 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:11:51 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:11:51 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:11:51 [INFO]: Query results:
2025-01-22 15:11:51 [INFO]: Handling user view for: 917299817996
2025-01-22 15:11:51 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:11:51 [INFO]: Title: Tele Consultation ID: 1~5~undefined~22,1~1~1
2025-01-22 15:11:51 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:11:51 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 5
2025-01-22 15:11:51 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:11:51 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":23,"MENU_NAME":"Select Department Tele","HEADER_MESSAGE":"Select a department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 15:11:51 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:23, iUserValue:Tele Consultation iSelectId: undefined appointment_id: 22
2025-01-22 15:11:51 [DEBUG]: Executing query for Appointment_ID: 22, Column: Appointment_Type, Value: Tele Consultation
2025-01-22 15:11:51 [INFO]: Appointment updated successfully
2025-01-22 15:11:51 [INFO]: Appointment updated successfully
2025-01-22 15:11:51 [INFO]: getFromList: iClientId:1 , iMenuId:23 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 15:11:51 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 23, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 15:11:51 [INFO]: Query results:
2025-01-22 15:11:52 [INFO]: Radio button message sent successfully
2025-01-22 15:11:53 [INFO]: Interactive message sent successfully
2025-01-22 15:11:53 [INFO]: Back button sent to 917299817996
2025-01-22 15:11:57 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 15:11:57 [DEBUG]: Message type: interactive
2025-01-22 15:11:57 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:11:57 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:11:57 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:11:57 [INFO]: Query results:
2025-01-22 15:11:57 [INFO]: Handling user view for: 917299817996
2025-01-22 15:11:57 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:11:57 [INFO]: Title: Cardiology ID: 1~23~1~22,1~5~undefined
2025-01-22 15:11:57 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:11:57 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 23
2025-01-22 15:11:57 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:11:57 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":24,"MENU_NAME":"Select Doctor Tele","HEADER_MESSAGE":"Select a doctor","ACTION":"Department~POC~DEPARTMENT_ID"}
2025-01-22 15:11:57 [INFO]: handleAction: iAction:Department,POC,DEPARTMENT_ID ,iClientID:1 ,iMenuId:24, iUserValue:Cardiology iSelectId: 1 appointment_id: 22
2025-01-22 15:11:57 [DEBUG]: Executing query for Appointment_ID: 22, Key: Department
2025-01-22 15:11:57 [INFO]: JSON data updated successfully
2025-01-22 15:11:57 [INFO]: JSON data updated successfully
2025-01-22 15:11:57 [INFO]: Appointment updated successfully
2025-01-22 15:11:57 [DEBUG]: Executing query for Appointment_ID: 22, Key: Department
2025-01-22 15:11:57 [INFO]: getFromPOC: iClientId:1 , iMenuId:24 ,iKey:Cardiology
2025-01-22 15:11:57 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 24, Specialization: Cardiology
2025-01-22 15:11:57 [INFO]: Query results:
2025-01-22 15:11:58 [INFO]: Radio button message sent successfully
2025-01-22 15:11:58 [INFO]: Interactive message sent successfully
2025-01-22 15:11:58 [INFO]: Back button sent to 917299817996
2025-01-22 15:12:03 [INFO]: Message received from: 917299817996, Content: Dr. Harry Smith
2025-01-22 15:12:03 [DEBUG]: Message type: interactive
2025-01-22 15:12:03 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:12:03 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:12:03 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:12:03 [INFO]: Query results:
2025-01-22 15:12:03 [INFO]: Handling user view for: 917299817996
2025-01-22 15:12:03 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:12:03 [INFO]: Title: Dr. Harry Smith ID: 1~24~1~22,1~23~1
2025-01-22 15:12:03 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:12:03 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 24
2025-01-22 15:12:03 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:12:03 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":25,"MENU_NAME":"Select Date Tele","HEADER_MESSAGE":"Select a date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 15:12:03 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:25, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 22
2025-01-22 15:12:03 [DEBUG]: Executing query for Appointment_ID: 22, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 15:12:03 [INFO]: POC ID and JSON data updated successfully
2025-01-22 15:12:03 [INFO]: Appointment updated successfully
2025-01-22 15:12:03 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 15:12:03 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 25, POC_ID: 1
2025-01-22 15:12:03 [INFO]: Radio button message sent successfully
2025-01-22 15:12:04 [INFO]: Interactive message sent successfully
2025-01-22 15:12:04 [INFO]: Back button sent to 917299817996
2025-01-22 15:12:09 [INFO]: Message received from: 917299817996, Content: 2025-01-22
2025-01-22 15:12:09 [DEBUG]: Message type: interactive
2025-01-22 15:12:09 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:12:09 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:12:09 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:12:09 [INFO]: Query results:
2025-01-22 15:12:09 [INFO]: Handling user view for: 917299817996
2025-01-22 15:12:09 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:12:09 [INFO]: Title: 2025-01-22 ID: 1~25~1-2025-01-22~22,1~24~1
2025-01-22 15:12:09 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:12:09 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 25
2025-01-22 15:12:09 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:12:09 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":26,"MENU_NAME":"Select Time Tele","HEADER_MESSAGE":"Select a time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 15:12:09 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:26, iUserValue:2025-01-22 iSelectId: 1-2025-01-22 appointment_id: 22
2025-01-22 15:12:09 [DEBUG]: Executing query for Appointment_ID: 22, Column: Appointment_Date, Value: 2025-01-22
2025-01-22 15:12:09 [INFO]: Appointment updated successfully
2025-01-22 15:12:09 [INFO]: Appointment updated successfully
2025-01-22 15:12:09 [DEBUG]: Executing query for Appointment_ID: 22, Key: Appointment_Date
2025-01-22 15:12:09 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 26, iKey: 1-2025-01-22, iValue: 2025-01-22
2025-01-22 15:12:09 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 26, POC_ID: 1-2025-01-22, Schedule_Date: 2025-01-22
2025-01-22 15:12:11 [INFO]: Radio button message sent successfully
2025-01-22 15:12:11 [INFO]: Interactive message sent successfully
2025-01-22 15:12:11 [INFO]: Back button sent to 917299817996
2025-01-22 15:12:16 [INFO]: Message received from: 917299817996, Content: 15:30:00
2025-01-22 15:12:16 [DEBUG]: Message type: interactive
2025-01-22 15:12:16 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:12:16 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:12:16 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:12:16 [INFO]: Query results:
2025-01-22 15:12:16 [INFO]: Handling user view for: 917299817996
2025-01-22 15:12:16 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:12:16 [INFO]: Title: 15:30:00 ID: 1~26~1-2025-01-22-15:30:00~22,1~25~1-2025-01-22
2025-01-22 15:12:16 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:12:16 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 26
2025-01-22 15:12:16 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:12:16 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":27,"MENU_NAME":"Confirm Tele Appointment","HEADER_MESSAGE":"Please confirm your appointment details","ACTION":"Appointment_Time~CONFIRM~CONFIRM_TELE"}
2025-01-22 15:12:16 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_TELE ,iClientID:1 ,iMenuId:27, iUserValue:15:30:00 iSelectId: 1-2025-01-22-15:30:00 appointment_id: 22
2025-01-22 15:12:16 [DEBUG]: Executing query for Appointment_ID: 22, Column: Appointment_Time, Value: 15:30:00
2025-01-22 15:12:16 [INFO]: Appointment updated successfully
2025-01-22 15:12:16 [INFO]: Appointment updated successfully
2025-01-22 15:12:16 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_TELE
2025-01-22 15:12:16 [DEBUG]: Executing query for Appointment_ID: 22
2025-01-22 15:12:16 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:30:00",
  "Appointment_Type": "Tele Consultation"
}
2025-01-22 15:12:16 [INFO]: Message sent successfully
2025-01-22 15:12:17 [INFO]: Radio button message sent successfully
2025-01-22 15:12:18 [INFO]: Interactive message sent successfully
2025-01-22 15:12:18 [INFO]: Back button sent to 917299817996
2025-01-22 15:12:22 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 15:12:22 [DEBUG]: Message type: interactive
2025-01-22 15:12:22 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:12:22 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:12:22 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:12:22 [INFO]: Query results:
2025-01-22 15:12:22 [INFO]: Handling user view for: 917299817996
2025-01-22 15:12:22 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:12:22 [INFO]: Title: Confirm ID: 1~27~Confirm~22,1~26~1-2025-01-22-15:30:00
2025-01-22 15:12:22 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:12:22 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 27
2025-01-22 15:12:22 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:12:22 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":28,"MENU_NAME":"Make Payment for Tele","HEADER_MESSAGE":"Please make a payment to confirm your Tele appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_TELE"}
2025-01-22 15:12:22 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_TELE ,iClientID:1 ,iMenuId:28, iUserValue:Confirm iSelectId: Confirm appointment_id: 22
2025-01-22 15:12:22 [DEBUG]: Executing query for Appointment_ID: 22, Key: Confirm_Status
2025-01-22 15:12:22 [INFO]: JSON data updated successfully
2025-01-22 15:12:22 [INFO]: JSON data updated successfully
2025-01-22 15:12:22 [INFO]: Appointment updated successfully
2025-01-22 15:12:24 [INFO]: Message sent successfully
2025-01-22 15:12:24 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 15:12:24 [INFO]: Message sent successfully
2025-01-22 15:13:07 [INFO]: Message sent successfully
2025-01-22 15:13:24 [DEBUG]: Executing query for Appointment_ID: 22, Column: Payment_Status, Value: Paid
2025-01-22 15:13:24 [INFO]: Appointment updated successfully
2025-01-22 15:13:25 [INFO]: Message sent successfully
2025-01-22 15:13:25 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 28
2025-01-22 15:13:25 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:13:25 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":29,"MENU_NAME":"Finalize Tele Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_TELE"}
2025-01-22 15:13:26 [INFO]: Interactive message sent successfully
2025-01-22 15:13:56 [INFO]: Message received from: 917299817996, Content: Finalize
2025-01-22 15:13:56 [DEBUG]: Message type: interactive
2025-01-22 15:13:56 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 15:13:56 [INFO]: getFromPOC: from:917299817996
2025-01-22 15:13:56 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 15:13:56 [INFO]: Query results:
2025-01-22 15:13:56 [INFO]: Handling user view for: 917299817996
2025-01-22 15:13:56 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 15:13:56 [INFO]: Title: Finalize ID: 1~28~Finalize~22,1~28~Confirm
2025-01-22 15:13:56 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 15:13:56 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 28
2025-01-22 15:13:56 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 15:13:56 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":29,"MENU_NAME":"Finalize Tele Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_TELE"}
2025-01-22 15:13:56 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_TELE ,iClientID:1 ,iMenuId:29, iUserValue:Finalize iSelectId: Finalize appointment_id: 22
2025-01-22 15:13:56 [DEBUG]: Executing query for Appointment_ID: 22, Key: Finalize_Status
2025-01-22 15:13:56 [INFO]: JSON data updated successfully
2025-01-22 15:13:56 [INFO]: JSON data updated successfully
2025-01-22 15:13:56 [INFO]: Appointment updated successfully
2025-01-22 15:13:56 [DEBUG]: Executing query for Appointment_ID: 22, Column: Status, Value: Confirmed
2025-01-22 15:13:56 [INFO]: Appointment updated successfully
2025-01-22 15:13:56 [DEBUG]: Executing query for Appointment_ID: 22, Column: Is_Active, Value: 1
2025-01-22 15:13:56 [INFO]: Appointment updated successfully
2025-01-22 15:13:56 [DEBUG]: Executing query for Appointment_ID: 22
2025-01-22 15:13:56 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Paid",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:30:00",
  "Appointment_Type": "Tele Consultation"
}
2025-01-22 15:13:56 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Paid",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-22",
  "Appointment_Time": "15:30:00",
  "Appointment_Type": "Tele Consultation"
}
2025-01-22 15:13:56 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-22, Start_Time: 15:30:00
2025-01-22 15:13:56 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_TELE
2025-01-22 15:13:56 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 15:13:58 [INFO]: Message sent successfully
2025-01-22 15:13:58 [DEBUG]: Executing query for Appointment_ID: 22
2025-01-22 15:13:58 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_TELE
2025-01-22 15:13:58 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 15:13:58 [DEBUG]: Executing query for Appointment_ID: 22
2025-01-22 15:13:58 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 15:13:58 [INFO]: Message sent successfully
2025-01-22 15:13:58 [INFO]: Appointment confirmed successfully
2025-01-22 15:13:59 [INFO]: Message sent successfully
2025-01-22 17:41:24 [INFO]:  connected to MySQL database.
2025-01-22 17:41:24 [INFO]: Server is running on http://localhost:6000
2025-01-22 17:41:31 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 17:41:31 [DEBUG]: Message type: text
2025-01-22 17:41:31 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:41:31 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:41:31 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:41:31 [INFO]: Query results:
2025-01-22 17:41:31 [INFO]: Handling user view for: 917299817996
2025-01-22 17:41:31 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:41:31 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:41:31 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:41:32 [INFO]: Message sent successfully
2025-01-22 17:41:32 [INFO]: Welcome message sent to 917299817996
2025-01-22 17:41:32 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 17:41:32 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 17:41:32 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 17:41:32 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:32 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:34 [DEBUG]: Image uploaded successfully:
2025-01-22 17:41:35 [INFO]: Interactive message sent successfully
2025-01-22 17:41:35 [INFO]: Main menu sent to 917299817996
2025-01-22 17:41:35 [INFO]: user Id: 2
2025-01-22 17:41:43 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 17:41:43 [DEBUG]: Message type: interactive
2025-01-22 17:41:43 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:41:43 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:41:43 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:41:43 [INFO]: Query results:
2025-01-22 17:41:43 [INFO]: Handling user view for: 917299817996
2025-01-22 17:41:43 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:41:43 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 17:41:43 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:41:43 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 17:41:43 [INFO]: Appointment id: 23
2025-01-22 17:41:43 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 17:41:43 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 17:41:43 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:43 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:43 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:43 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:41:44 [INFO]: Radio button message sent successfully
2025-01-22 17:41:44 [INFO]: Interactive message sent successfully
2025-01-22 17:41:44 [INFO]: Back button sent to 917299817996
2025-01-22 17:41:52 [INFO]: Message received from: 917299817996, Content: Direct Consultation
2025-01-22 17:41:52 [DEBUG]: Message type: interactive
2025-01-22 17:41:52 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:41:52 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:41:52 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:41:52 [INFO]: Query results:
2025-01-22 17:41:52 [INFO]: Handling user view for: 917299817996
2025-01-22 17:41:52 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:41:52 [INFO]: Title: Direct Consultation ID: 1~6~undefined~23,1~1~1
2025-01-22 17:41:52 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:41:52 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 17:41:52 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:41:52 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 17:41:52 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 23
2025-01-22 17:41:52 [DEBUG]: Executing query for Appointment_ID: 23, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 17:41:52 [INFO]: Appointment updated successfully
2025-01-22 17:41:52 [INFO]: Appointment updated successfully
2025-01-22 17:41:52 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 17:41:52 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 17:41:52 [INFO]: Query results:
2025-01-22 17:41:53 [INFO]: Radio button message sent successfully
2025-01-22 17:41:54 [INFO]: Interactive message sent successfully
2025-01-22 17:41:54 [INFO]: Back button sent to 917299817996
2025-01-22 17:41:58 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 17:41:58 [DEBUG]: Message type: interactive
2025-01-22 17:41:58 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:41:58 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:41:58 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:41:58 [INFO]: Query results:
2025-01-22 17:41:58 [INFO]: Handling user view for: 917299817996
2025-01-22 17:41:58 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:41:58 [INFO]: Title: Cardiology ID: 1~16~1~23,1~6~undefined
2025-01-22 17:41:58 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:41:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 17:41:58 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:41:58 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 17:41:58 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 23
2025-01-22 17:41:58 [DEBUG]: Executing query for Appointment_ID: 23, Key: Department
2025-01-22 17:41:58 [INFO]: JSON data updated successfully
2025-01-22 17:41:58 [INFO]: JSON data updated successfully
2025-01-22 17:41:58 [INFO]: Appointment updated successfully
2025-01-22 17:41:58 [DEBUG]: Executing query for Appointment_ID: 23, Key: Department
2025-01-22 17:41:58 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 17:41:58 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 17:41:58 [INFO]: Query results:
2025-01-22 17:41:59 [INFO]: Radio button message sent successfully
2025-01-22 17:41:59 [INFO]: Interactive message sent successfully
2025-01-22 17:41:59 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:06 [INFO]: Message received from: 917299817996, Content: Dr. Hanika
2025-01-22 17:42:06 [DEBUG]: Message type: interactive
2025-01-22 17:42:06 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:06 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:06 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:06 [INFO]: Query results:
2025-01-22 17:42:06 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:06 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:06 [INFO]: Title: Dr. Hanika ID: 1~17~10~23,1~16~1
2025-01-22 17:42:06 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:06 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 17:42:06 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:06 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 17:42:06 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Hanika iSelectId: 10 appointment_id: 23
2025-01-22 17:42:06 [DEBUG]: Executing query for Appointment_ID: 23, POC_ID: 10, Poc_name: Dr. Hanika
2025-01-22 17:42:06 [INFO]: POC ID and JSON data updated successfully
2025-01-22 17:42:06 [INFO]: Appointment updated successfully
2025-01-22 17:42:06 [DEBUG]: Executing query for Client_ID: 1, Specialization: 10
2025-01-22 17:42:06 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 10
2025-01-22 17:42:06 [ERROR]: Error fetching main menu: Cannot read properties of undefined (reading 'Appointment_ID')
2025-01-22 17:42:07 [INFO]: Message sent successfully
2025-01-22 17:42:11 [INFO]: Message received from: 917299817996, Content: Hi
2025-01-22 17:42:11 [DEBUG]: Message type: text
2025-01-22 17:42:11 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:11 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:11 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:11 [INFO]: Query results:
2025-01-22 17:42:11 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:11 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:11 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:11 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:12 [INFO]: Message sent successfully
2025-01-22 17:42:12 [INFO]: Welcome message sent to 917299817996
2025-01-22 17:42:12 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 17:42:12 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 17:42:12 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 17:42:12 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:12 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:14 [DEBUG]: Image uploaded successfully:
2025-01-22 17:42:15 [INFO]: Interactive message sent successfully
2025-01-22 17:42:15 [INFO]: Main menu sent to 917299817996
2025-01-22 17:42:15 [INFO]: user Id: 2
2025-01-22 17:42:17 [INFO]: Message received from: 917299817996, Content: Book Appointment
2025-01-22 17:42:17 [DEBUG]: Message type: interactive
2025-01-22 17:42:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:17 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:17 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:17 [INFO]: Query results:
2025-01-22 17:42:17 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:17 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:17 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 17:42:17 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:17 [DEBUG]: Executing query for Client_ID: 1, User_ID: 2
2025-01-22 17:42:17 [INFO]: Appointment id: 24
2025-01-22 17:42:17 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 17:42:17 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 17:42:17 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:17 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:17 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:17 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 17:42:18 [INFO]: Radio button message sent successfully
2025-01-22 17:42:19 [INFO]: Interactive message sent successfully
2025-01-22 17:42:19 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:25 [INFO]: Message received from: 917299817996, Content: Direct Consultation
2025-01-22 17:42:25 [DEBUG]: Message type: interactive
2025-01-22 17:42:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:25 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:25 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:25 [INFO]: Query results:
2025-01-22 17:42:25 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:25 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:25 [INFO]: Title: Direct Consultation ID: 1~6~undefined~24,1~1~1
2025-01-22 17:42:25 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:25 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 17:42:25 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:25 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 17:42:25 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 24
2025-01-22 17:42:25 [DEBUG]: Executing query for Appointment_ID: 24, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 17:42:25 [INFO]: Appointment updated successfully
2025-01-22 17:42:25 [INFO]: Appointment updated successfully
2025-01-22 17:42:25 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 17:42:25 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 17:42:25 [INFO]: Query results:
2025-01-22 17:42:26 [INFO]: Radio button message sent successfully
2025-01-22 17:42:27 [INFO]: Interactive message sent successfully
2025-01-22 17:42:27 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:30 [INFO]: Message received from: 917299817996, Content: Cardiology
2025-01-22 17:42:30 [DEBUG]: Message type: interactive
2025-01-22 17:42:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:30 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:30 [INFO]: Query results:
2025-01-22 17:42:30 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:30 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:30 [INFO]: Title: Cardiology ID: 1~16~1~24,1~6~undefined
2025-01-22 17:42:30 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:30 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 17:42:30 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:30 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 17:42:30 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 24
2025-01-22 17:42:30 [DEBUG]: Executing query for Appointment_ID: 24, Key: Department
2025-01-22 17:42:30 [INFO]: JSON data updated successfully
2025-01-22 17:42:30 [INFO]: JSON data updated successfully
2025-01-22 17:42:30 [INFO]: Appointment updated successfully
2025-01-22 17:42:30 [DEBUG]: Executing query for Appointment_ID: 24, Key: Department
2025-01-22 17:42:30 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 17:42:30 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 17:42:30 [INFO]: Query results:
2025-01-22 17:42:31 [INFO]: Radio button message sent successfully
2025-01-22 17:42:32 [INFO]: Interactive message sent successfully
2025-01-22 17:42:32 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:36 [INFO]: Message received from: 917299817996, Content: Dr. Harry Smith
2025-01-22 17:42:36 [DEBUG]: Message type: interactive
2025-01-22 17:42:36 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:36 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:36 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:36 [INFO]: Query results:
2025-01-22 17:42:36 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:36 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:36 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~24,1~16~1
2025-01-22 17:42:36 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:36 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 17:42:36 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:36 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 17:42:36 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 24
2025-01-22 17:42:36 [DEBUG]: Executing query for Appointment_ID: 24, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 17:42:36 [INFO]: POC ID and JSON data updated successfully
2025-01-22 17:42:36 [INFO]: Appointment updated successfully
2025-01-22 17:42:36 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 17:42:36 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 17:42:37 [INFO]: Radio button message sent successfully
2025-01-22 17:42:37 [INFO]: Interactive message sent successfully
2025-01-22 17:42:37 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:44 [INFO]: Message received from: 917299817996, Content: 2025-02-05
2025-01-22 17:42:44 [DEBUG]: Message type: interactive
2025-01-22 17:42:44 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:44 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:44 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:44 [INFO]: Query results:
2025-01-22 17:42:44 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:44 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:44 [INFO]: Title: 2025-02-05 ID: 1~18~1-2025-02-05~24,1~17~1
2025-01-22 17:42:44 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:44 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 17:42:44 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:44 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 17:42:44 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-02-05 iSelectId: 1-2025-02-05 appointment_id: 24
2025-01-22 17:42:44 [DEBUG]: Executing query for Appointment_ID: 24, Column: Appointment_Date, Value: 2025-02-05
2025-01-22 17:42:44 [INFO]: Appointment updated successfully
2025-01-22 17:42:44 [INFO]: Appointment updated successfully
2025-01-22 17:42:44 [DEBUG]: Executing query for Appointment_ID: 24, Key: Appointment_Date
2025-01-22 17:42:44 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-02-05, iValue: 2025-02-05
2025-01-22 17:42:44 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-02-05, Schedule_Date: 2025-02-05
2025-01-22 17:42:45 [INFO]: Radio button message sent successfully
2025-01-22 17:42:46 [INFO]: Interactive message sent successfully
2025-01-22 17:42:46 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:49 [INFO]: Message received from: 917299817996, Content: 16:30:00
2025-01-22 17:42:49 [DEBUG]: Message type: interactive
2025-01-22 17:42:49 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:49 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:49 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:49 [INFO]: Query results:
2025-01-22 17:42:49 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:49 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:49 [INFO]: Title: 16:30:00 ID: 1~19~1-2025-02-05-16:30:00~24,1~18~1-2025-02-05
2025-01-22 17:42:49 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:49 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 17:42:49 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:49 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 17:42:49 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:16:30:00 iSelectId: 1-2025-02-05-16:30:00 appointment_id: 24
2025-01-22 17:42:49 [DEBUG]: Executing query for Appointment_ID: 24, Column: Appointment_Time, Value: 16:30:00
2025-01-22 17:42:49 [INFO]: Appointment updated successfully
2025-01-22 17:42:49 [INFO]: Appointment updated successfully
2025-01-22 17:42:49 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 17:42:49 [DEBUG]: Executing query for Appointment_ID: 24
2025-01-22 17:42:49 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-02-05",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 17:42:50 [INFO]: Message sent successfully
2025-01-22 17:42:51 [INFO]: Radio button message sent successfully
2025-01-22 17:42:52 [INFO]: Interactive message sent successfully
2025-01-22 17:42:52 [INFO]: Back button sent to 917299817996
2025-01-22 17:42:57 [INFO]: Message received from: 917299817996, Content: Confirm
2025-01-22 17:42:57 [DEBUG]: Message type: interactive
2025-01-22 17:42:57 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:42:57 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:42:57 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:42:57 [INFO]: Query results:
2025-01-22 17:42:57 [INFO]: Handling user view for: 917299817996
2025-01-22 17:42:57 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:42:57 [INFO]: Title: Confirm ID: 1~20~Confirm~24,1~19~1-2025-02-05-16:30:00
2025-01-22 17:42:57 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:42:57 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 17:42:57 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:42:57 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 17:42:57 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 24
2025-01-22 17:42:57 [DEBUG]: Executing query for Appointment_ID: 24, Key: Confirm_Status
2025-01-22 17:42:57 [INFO]: JSON data updated successfully
2025-01-22 17:42:57 [INFO]: JSON data updated successfully
2025-01-22 17:42:57 [INFO]: Appointment updated successfully
2025-01-22 17:42:59 [INFO]: Message sent successfully
2025-01-22 17:42:59 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 17:43:00 [INFO]: Message sent successfully
2025-01-22 17:43:01 [INFO]: Message sent successfully
2025-01-22 17:43:01 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 17:43:01 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:43:01 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 17:43:02 [INFO]: Interactive message sent successfully
2025-01-22 17:43:04 [INFO]: Message received from: 917299817996, Content: Finalize
2025-01-22 17:43:04 [DEBUG]: Message type: interactive
2025-01-22 17:43:04 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 17:43:04 [INFO]: getFromPOC: from:917299817996
2025-01-22 17:43:04 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 917299817996
2025-01-22 17:43:04 [INFO]: Query results:
2025-01-22 17:43:04 [INFO]: Handling user view for: 917299817996
2025-01-22 17:43:04 [DEBUG]: Executing query for User_Contact: 917299817996
2025-01-22 17:43:04 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmU7ky7VEwR9W1~24,1~21~Confirm
2025-01-22 17:43:04 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:43:04 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 17:43:04 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 17:43:04 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 17:43:04 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmU7ky7VEwR9W1 appointment_id: 24
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24, Key: Finalize_Status
2025-01-22 17:43:04 [INFO]: JSON data updated successfully
2025-01-22 17:43:04 [INFO]: JSON data updated successfully
2025-01-22 17:43:04 [INFO]: Appointment updated successfully
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24, Column: Payment_Status, Value: Pay_later
2025-01-22 17:43:04 [INFO]: Appointment updated successfully
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24, Column: Status, Value: Confirmed
2025-01-22 17:43:04 [INFO]: Appointment updated successfully
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24, Column: Is_Active, Value: 1
2025-01-22 17:43:04 [INFO]: Appointment updated successfully
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24
2025-01-22 17:43:04 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-05",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 17:43:04 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-05",
  "Appointment_Time": "16:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 17:43:04 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-02-05, Start_Time: 16:30:00
2025-01-22 17:43:04 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 17:43:04 [DEBUG]: Executing query for Appointment_ID: 24
2025-01-22 17:43:04 [INFO]: [object Object]
2025-01-22 17:43:04 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 17:43:04 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 17:43:05 [INFO]: Message sent successfully
2025-01-22 17:43:05 [DEBUG]: Executing query for Appointment_ID: 24
2025-01-22 17:43:05 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 17:43:05 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 17:43:05 [DEBUG]: Executing query for Appointment_ID: 24
2025-01-22 17:43:05 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 17:43:06 [INFO]: Message sent successfully
2025-01-22 17:43:06 [INFO]: Appointment confirmed successfully
2025-01-22 17:43:07 [INFO]: Message sent successfully
2025-01-22 22:07:21 [INFO]:  connected to MySQL database.
2025-01-22 22:07:21 [INFO]: Server is running on http://localhost:6000
2025-01-22 22:07:45 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 22:07:45 [DEBUG]: Message type: text
2025-01-22 22:07:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:07:45 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:07:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:07:45 [INFO]: Query results:
2025-01-22 22:07:45 [INFO]: Handling user view for: 919094995418
2025-01-22 22:07:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:07:45 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:07:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:07:46 [INFO]: Message sent successfully
2025-01-22 22:07:46 [INFO]: Welcome message sent to 919094995418
2025-01-22 22:07:46 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 22:07:46 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 22:07:46 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 22:07:46 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:46 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:48 [DEBUG]: Image uploaded successfully:
2025-01-22 22:07:48 [INFO]: Interactive message sent successfully
2025-01-22 22:07:48 [INFO]: Main menu sent to 919094995418
2025-01-22 22:07:48 [INFO]: user Id: 1
2025-01-22 22:07:52 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 22:07:52 [DEBUG]: Message type: interactive
2025-01-22 22:07:52 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:07:52 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:07:52 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:07:52 [INFO]: Query results:
2025-01-22 22:07:52 [INFO]: Handling user view for: 919094995418
2025-01-22 22:07:52 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:07:52 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 22:07:52 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:07:52 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 22:07:52 [INFO]: Appointment id: 25
2025-01-22 22:07:52 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 22:07:52 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 22:07:52 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:52 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:52 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:52 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:07:53 [INFO]: Radio button message sent successfully
2025-01-22 22:07:54 [INFO]: Interactive message sent successfully
2025-01-22 22:07:54 [INFO]: Back button sent to 919094995418
2025-01-22 22:07:59 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-01-22 22:07:59 [DEBUG]: Message type: interactive
2025-01-22 22:07:59 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:07:59 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:07:59 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:07:59 [INFO]: Query results:
2025-01-22 22:07:59 [INFO]: Handling user view for: 919094995418
2025-01-22 22:07:59 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:07:59 [INFO]: Title: Direct Consultation ID: 1~6~undefined~25,1~1~1
2025-01-22 22:07:59 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:07:59 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 22:07:59 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:07:59 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 22:07:59 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 25
2025-01-22 22:07:59 [DEBUG]: Executing query for Appointment_ID: 25, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 22:07:59 [INFO]: Appointment updated successfully
2025-01-22 22:07:59 [INFO]: Appointment updated successfully
2025-01-22 22:07:59 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 22:07:59 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 22:07:59 [INFO]: Query results:
2025-01-22 22:07:59 [INFO]: Radio button message sent successfully
2025-01-22 22:08:00 [INFO]: Interactive message sent successfully
2025-01-22 22:08:00 [INFO]: Back button sent to 919094995418
2025-01-22 22:08:05 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-01-22 22:08:05 [DEBUG]: Message type: interactive
2025-01-22 22:08:05 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:05 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:05 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:05 [INFO]: Query results:
2025-01-22 22:08:05 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:05 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:05 [INFO]: Title: Cardiology ID: 1~16~1~25,1~6~undefined
2025-01-22 22:08:05 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:05 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 22:08:05 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:05 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 22:08:05 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 25
2025-01-22 22:08:05 [DEBUG]: Executing query for Appointment_ID: 25, Key: Department
2025-01-22 22:08:05 [INFO]: JSON data updated successfully
2025-01-22 22:08:05 [INFO]: JSON data updated successfully
2025-01-22 22:08:05 [INFO]: Appointment updated successfully
2025-01-22 22:08:05 [DEBUG]: Executing query for Appointment_ID: 25, Key: Department
2025-01-22 22:08:05 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 22:08:05 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 22:08:05 [INFO]: Query results:
2025-01-22 22:08:06 [INFO]: Radio button message sent successfully
2025-01-22 22:08:06 [INFO]: Interactive message sent successfully
2025-01-22 22:08:06 [INFO]: Back button sent to 919094995418
2025-01-22 22:08:11 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-01-22 22:08:11 [DEBUG]: Message type: interactive
2025-01-22 22:08:11 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:11 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:11 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:11 [INFO]: Query results:
2025-01-22 22:08:11 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:11 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:11 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~25,1~16~1
2025-01-22 22:08:11 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:11 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 22:08:11 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:11 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 22:08:11 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 25
2025-01-22 22:08:11 [DEBUG]: Executing query for Appointment_ID: 25, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 22:08:11 [INFO]: POC ID and JSON data updated successfully
2025-01-22 22:08:11 [INFO]: Appointment updated successfully
2025-01-22 22:08:11 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 22:08:11 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 22:08:11 [INFO]: Radio button message sent successfully
2025-01-22 22:08:12 [INFO]: Interactive message sent successfully
2025-01-22 22:08:12 [INFO]: Back button sent to 919094995418
2025-01-22 22:08:16 [INFO]: Message received from: 919094995418, Content: 2025-01-23
2025-01-22 22:08:16 [DEBUG]: Message type: interactive
2025-01-22 22:08:16 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:16 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:16 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:16 [INFO]: Query results:
2025-01-22 22:08:16 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:16 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:16 [INFO]: Title: 2025-01-23 ID: 1~18~1-2025-01-23~25,1~17~1
2025-01-22 22:08:16 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:16 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 22:08:16 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:16 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 22:08:16 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-23 iSelectId: 1-2025-01-23 appointment_id: 25
2025-01-22 22:08:16 [DEBUG]: Executing query for Appointment_ID: 25, Column: Appointment_Date, Value: 2025-01-23
2025-01-22 22:08:16 [INFO]: Appointment updated successfully
2025-01-22 22:08:16 [INFO]: Appointment updated successfully
2025-01-22 22:08:16 [DEBUG]: Executing query for Appointment_ID: 25, Key: Appointment_Date
2025-01-22 22:08:16 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-23, iValue: 2025-01-23
2025-01-22 22:08:16 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-23, Schedule_Date: 2025-01-23
2025-01-22 22:08:17 [INFO]: Radio button message sent successfully
2025-01-22 22:08:18 [INFO]: Interactive message sent successfully
2025-01-22 22:08:18 [INFO]: Back button sent to 919094995418
2025-01-22 22:08:24 [INFO]: Message received from: 919094995418, Content: 10:00:00
2025-01-22 22:08:24 [DEBUG]: Message type: interactive
2025-01-22 22:08:24 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:24 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:24 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:24 [INFO]: Query results:
2025-01-22 22:08:24 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:24 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:24 [INFO]: Title: 10:00:00 ID: 1~19~1-2025-01-23-10:00:00~25,1~18~1-2025-01-23
2025-01-22 22:08:24 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:24 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 22:08:24 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:24 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 22:08:24 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:10:00:00 iSelectId: 1-2025-01-23-10:00:00 appointment_id: 25
2025-01-22 22:08:24 [DEBUG]: Executing query for Appointment_ID: 25, Column: Appointment_Time, Value: 10:00:00
2025-01-22 22:08:24 [INFO]: Appointment updated successfully
2025-01-22 22:08:24 [INFO]: Appointment updated successfully
2025-01-22 22:08:24 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 22:08:24 [DEBUG]: Executing query for Appointment_ID: 25
2025-01-22 22:08:24 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:08:24 [INFO]: Message sent successfully
2025-01-22 22:08:25 [INFO]: Radio button message sent successfully
2025-01-22 22:08:25 [INFO]: Interactive message sent successfully
2025-01-22 22:08:25 [INFO]: Back button sent to 919094995418
2025-01-22 22:08:30 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 22:08:30 [DEBUG]: Message type: interactive
2025-01-22 22:08:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:30 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:30 [INFO]: Query results:
2025-01-22 22:08:30 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:30 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:30 [INFO]: Title: Confirm ID: 1~20~Confirm~25,1~19~1-2025-01-23-10:00:00
2025-01-22 22:08:30 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:30 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 22:08:30 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:30 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 22:08:30 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 25
2025-01-22 22:08:30 [DEBUG]: Executing query for Appointment_ID: 25, Key: Confirm_Status
2025-01-22 22:08:30 [INFO]: JSON data updated successfully
2025-01-22 22:08:30 [INFO]: JSON data updated successfully
2025-01-22 22:08:30 [INFO]: Appointment updated successfully
2025-01-22 22:08:32 [INFO]: Message sent successfully
2025-01-22 22:08:32 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 22:08:33 [INFO]: Message sent successfully
2025-01-22 22:08:33 [INFO]: Message sent successfully
2025-01-22 22:08:33 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:08:33 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:33 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:08:34 [INFO]: Interactive message sent successfully
2025-01-22 22:08:37 [INFO]: Message received from: 919094995418, Content: Finalize
2025-01-22 22:08:37 [DEBUG]: Message type: interactive
2025-01-22 22:08:37 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:08:37 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:08:37 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:08:37 [INFO]: Query results:
2025-01-22 22:08:37 [INFO]: Handling user view for: 919094995418
2025-01-22 22:08:37 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:08:37 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmYeGRqrzeIY2y~25,1~21~Confirm
2025-01-22 22:08:37 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:37 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:08:37 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:08:37 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:08:37 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmYeGRqrzeIY2y appointment_id: 25
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25, Key: Finalize_Status
2025-01-22 22:08:37 [INFO]: JSON data updated successfully
2025-01-22 22:08:37 [INFO]: JSON data updated successfully
2025-01-22 22:08:37 [INFO]: Appointment updated successfully
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25, Column: Payment_Status, Value: Pay_later
2025-01-22 22:08:37 [INFO]: Appointment updated successfully
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25, Column: Status, Value: Confirmed
2025-01-22 22:08:37 [INFO]: Appointment updated successfully
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25, Column: Is_Active, Value: 1
2025-01-22 22:08:37 [INFO]: Appointment updated successfully
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25
2025-01-22 22:08:37 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:08:37 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:08:37 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-23, Start_Time: 10:00:00
2025-01-22 22:08:37 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:08:37 [DEBUG]: Executing query for Appointment_ID: 25
2025-01-22 22:08:37 [INFO]: [object Object]
2025-01-22 22:08:37 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 22:08:37 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:08:38 [INFO]: Message sent successfully
2025-01-22 22:08:38 [DEBUG]: Executing query for Appointment_ID: 25
2025-01-22 22:08:38 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 22:08:38 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:08:38 [DEBUG]: Executing query for Appointment_ID: 25
2025-01-22 22:08:38 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:08:39 [INFO]: Message sent successfully
2025-01-22 22:08:39 [INFO]: Appointment confirmed successfully
2025-01-22 22:08:39 [INFO]: Message sent successfully
2025-01-22 22:12:12 [INFO]:  connected to MySQL database.
2025-01-22 22:12:12 [INFO]: Server is running on http://localhost:6000
2025-01-22 22:12:17 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 22:12:17 [DEBUG]: Message type: text
2025-01-22 22:12:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:17 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:17 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:17 [INFO]: Query results:
2025-01-22 22:12:17 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:17 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:17 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:17 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:18 [INFO]: Message sent successfully
2025-01-22 22:12:18 [INFO]: Welcome message sent to 919094995418
2025-01-22 22:12:18 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 22:12:18 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 22:12:18 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 22:12:18 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:18 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:19 [DEBUG]: Image uploaded successfully:
2025-01-22 22:12:20 [INFO]: Interactive message sent successfully
2025-01-22 22:12:20 [INFO]: Main menu sent to 919094995418
2025-01-22 22:12:20 [INFO]: user Id: 1
2025-01-22 22:12:24 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 22:12:24 [DEBUG]: Message type: interactive
2025-01-22 22:12:24 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:24 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:24 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:24 [INFO]: Query results:
2025-01-22 22:12:24 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:24 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:24 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 22:12:24 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:24 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 22:12:24 [INFO]: Appointment id: 26
2025-01-22 22:12:24 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 22:12:24 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 22:12:24 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:24 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:24 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:24 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:12:24 [INFO]: Radio button message sent successfully
2025-01-22 22:12:25 [INFO]: Interactive message sent successfully
2025-01-22 22:12:25 [INFO]: Back button sent to 919094995418
2025-01-22 22:12:30 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-01-22 22:12:30 [DEBUG]: Message type: interactive
2025-01-22 22:12:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:30 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:30 [INFO]: Query results:
2025-01-22 22:12:30 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:30 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:30 [INFO]: Title: Direct Consultation ID: 1~6~undefined~26,1~1~1
2025-01-22 22:12:30 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:30 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 22:12:30 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:12:30 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 22:12:30 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 26
2025-01-22 22:12:30 [DEBUG]: Executing query for Appointment_ID: 26, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 22:12:30 [INFO]: Appointment updated successfully
2025-01-22 22:12:30 [INFO]: Appointment updated successfully
2025-01-22 22:12:30 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 22:12:30 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 22:12:30 [INFO]: Query results:
2025-01-22 22:12:31 [INFO]: Radio button message sent successfully
2025-01-22 22:12:31 [INFO]: Interactive message sent successfully
2025-01-22 22:12:31 [INFO]: Back button sent to 919094995418
2025-01-22 22:12:39 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-01-22 22:12:39 [DEBUG]: Message type: interactive
2025-01-22 22:12:39 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:39 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:39 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:39 [INFO]: Query results:
2025-01-22 22:12:39 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:39 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:39 [INFO]: Title: Cardiology ID: 1~16~1~26,1~6~undefined
2025-01-22 22:12:39 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:39 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 22:12:39 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:12:39 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 22:12:39 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 26
2025-01-22 22:12:39 [DEBUG]: Executing query for Appointment_ID: 26, Key: Department
2025-01-22 22:12:39 [INFO]: JSON data updated successfully
2025-01-22 22:12:39 [INFO]: JSON data updated successfully
2025-01-22 22:12:39 [INFO]: Appointment updated successfully
2025-01-22 22:12:39 [DEBUG]: Executing query for Appointment_ID: 26, Key: Department
2025-01-22 22:12:39 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 22:12:39 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 22:12:39 [INFO]: Query results:
2025-01-22 22:12:40 [INFO]: Radio button message sent successfully
2025-01-22 22:12:40 [INFO]: Interactive message sent successfully
2025-01-22 22:12:40 [INFO]: Back button sent to 919094995418
2025-01-22 22:12:45 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-01-22 22:12:45 [DEBUG]: Message type: interactive
2025-01-22 22:12:45 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:45 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:45 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:45 [INFO]: Query results:
2025-01-22 22:12:45 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:45 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:45 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~26,1~16~1
2025-01-22 22:12:45 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:45 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 22:12:45 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:12:45 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 22:12:45 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 26
2025-01-22 22:12:45 [DEBUG]: Executing query for Appointment_ID: 26, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 22:12:45 [INFO]: POC ID and JSON data updated successfully
2025-01-22 22:12:45 [INFO]: Appointment updated successfully
2025-01-22 22:12:45 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 22:12:45 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 22:12:46 [INFO]: Radio button message sent successfully
2025-01-22 22:12:47 [INFO]: Interactive message sent successfully
2025-01-22 22:12:47 [INFO]: Back button sent to 919094995418
2025-01-22 22:12:53 [INFO]: Message received from: 919094995418, Content: 2025-01-23
2025-01-22 22:12:53 [DEBUG]: Message type: interactive
2025-01-22 22:12:53 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:12:53 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:12:53 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:12:53 [INFO]: Query results:
2025-01-22 22:12:53 [INFO]: Handling user view for: 919094995418
2025-01-22 22:12:53 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:12:53 [INFO]: Title: 2025-01-23 ID: 1~18~1-2025-01-23~26,1~17~1
2025-01-22 22:12:53 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:12:53 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 22:12:53 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:12:53 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 22:12:53 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-23 iSelectId: 1-2025-01-23 appointment_id: 26
2025-01-22 22:12:53 [DEBUG]: Executing query for Appointment_ID: 26, Column: Appointment_Date, Value: 2025-01-23
2025-01-22 22:12:53 [INFO]: Appointment updated successfully
2025-01-22 22:12:53 [INFO]: Appointment updated successfully
2025-01-22 22:12:53 [DEBUG]: Executing query for Appointment_ID: 26, Key: Appointment_Date
2025-01-22 22:12:53 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-23, iValue: 2025-01-23
2025-01-22 22:12:53 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-23, Schedule_Date: 2025-01-23
2025-01-22 22:12:53 [INFO]: Radio button message sent successfully
2025-01-22 22:12:54 [INFO]: Interactive message sent successfully
2025-01-22 22:12:54 [INFO]: Back button sent to 919094995418
2025-01-22 22:13:00 [INFO]: Message received from: 919094995418, Content: 10:00:00
2025-01-22 22:13:00 [DEBUG]: Message type: interactive
2025-01-22 22:13:00 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:13:00 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:13:00 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:13:00 [INFO]: Query results:
2025-01-22 22:13:00 [INFO]: Handling user view for: 919094995418
2025-01-22 22:13:00 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:13:00 [INFO]: Title: 10:00:00 ID: 1~19~1-2025-01-23-10:00:00~26,1~18~1-2025-01-23
2025-01-22 22:13:00 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:13:00 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 22:13:00 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:13:00 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 22:13:00 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:10:00:00 iSelectId: 1-2025-01-23-10:00:00 appointment_id: 26
2025-01-22 22:13:00 [DEBUG]: Executing query for Appointment_ID: 26, Column: Appointment_Time, Value: 10:00:00
2025-01-22 22:13:00 [INFO]: Appointment updated successfully
2025-01-22 22:13:00 [INFO]: Appointment updated successfully
2025-01-22 22:13:00 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 22:13:00 [DEBUG]: Executing query for Appointment_ID: 26
2025-01-22 22:13:00 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:13:01 [INFO]: Message sent successfully
2025-01-22 22:13:01 [INFO]: Radio button message sent successfully
2025-01-22 22:13:02 [INFO]: Interactive message sent successfully
2025-01-22 22:13:02 [INFO]: Back button sent to 919094995418
2025-01-22 22:13:08 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 22:13:08 [DEBUG]: Message type: interactive
2025-01-22 22:13:08 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:13:08 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:13:08 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:13:08 [INFO]: Query results:
2025-01-22 22:13:08 [INFO]: Handling user view for: 919094995418
2025-01-22 22:13:08 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:13:08 [INFO]: Title: Confirm ID: 1~20~Confirm~26,1~19~1-2025-01-23-10:00:00
2025-01-22 22:13:08 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:13:08 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 22:13:08 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:13:08 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 22:13:08 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 26
2025-01-22 22:13:08 [DEBUG]: Executing query for Appointment_ID: 26, Key: Confirm_Status
2025-01-22 22:13:08 [INFO]: JSON data updated successfully
2025-01-22 22:13:08 [INFO]: JSON data updated successfully
2025-01-22 22:13:08 [INFO]: Appointment updated successfully
2025-01-22 22:13:09 [INFO]: Message sent successfully
2025-01-22 22:13:09 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 22:13:10 [INFO]: Message sent successfully
2025-01-22 22:13:11 [INFO]: Message sent successfully
2025-01-22 22:13:11 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:13:11 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:13:11 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:13:11 [INFO]: Interactive message sent successfully
2025-01-22 22:13:14 [INFO]: Message received from: 919094995418, Content: Finalize
2025-01-22 22:13:14 [DEBUG]: Message type: interactive
2025-01-22 22:13:14 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:13:14 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:13:14 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:13:14 [INFO]: Query results:
2025-01-22 22:13:14 [INFO]: Handling user view for: 919094995418
2025-01-22 22:13:14 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:13:14 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmYj9RstfYWFtK~26,1~21~Confirm
2025-01-22 22:13:14 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:13:14 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:13:14 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:13:14 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:13:14 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmYj9RstfYWFtK appointment_id: 26
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26, Key: Finalize_Status
2025-01-22 22:13:14 [INFO]: JSON data updated successfully
2025-01-22 22:13:14 [INFO]: JSON data updated successfully
2025-01-22 22:13:14 [INFO]: Appointment updated successfully
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26, Column: Payment_Status, Value: Pay_later
2025-01-22 22:13:14 [INFO]: Appointment updated successfully
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26, Column: Status, Value: Confirmed
2025-01-22 22:13:14 [INFO]: Appointment updated successfully
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26, Column: Is_Active, Value: 1
2025-01-22 22:13:14 [INFO]: Appointment updated successfully
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26
2025-01-22 22:13:14 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:13:14 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:13:14 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-23, Start_Time: 10:00:00
2025-01-22 22:13:14 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:13:14 [DEBUG]: Executing query for Appointment_ID: 26
2025-01-22 22:13:14 [INFO]: [object Object]
2025-01-22 22:13:14 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 22:13:14 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:13:15 [INFO]: Message sent successfully
2025-01-22 22:13:15 [DEBUG]: Executing query for Appointment_ID: 26
2025-01-22 22:13:15 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 22:13:15 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:13:15 [DEBUG]: Executing query for Appointment_ID: 26
2025-01-22 22:13:15 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:13:15 [INFO]: Message sent successfully
2025-01-22 22:13:15 [INFO]: Appointment confirmed successfully
2025-01-22 22:13:16 [INFO]: Message sent successfully
2025-01-22 22:15:43 [INFO]:  connected to MySQL database.
2025-01-22 22:15:43 [INFO]: Server is running on http://localhost:6000
2025-01-22 22:15:48 [INFO]: Message received from: 919094995418, Content: hi
2025-01-22 22:15:48 [DEBUG]: Message type: text
2025-01-22 22:15:48 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:15:48 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:15:48 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:15:48 [INFO]: Query results:
2025-01-22 22:15:48 [INFO]: Handling user view for: 919094995418
2025-01-22 22:15:48 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:15:48 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:15:48 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:15:49 [INFO]: Message sent successfully
2025-01-22 22:15:49 [INFO]: Welcome message sent to 919094995418
2025-01-22 22:15:49 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-22 22:15:49 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-22 22:15:49 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-22 22:15:49 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:49 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:51 [DEBUG]: Image uploaded successfully:
2025-01-22 22:15:51 [INFO]: Interactive message sent successfully
2025-01-22 22:15:51 [INFO]: Main menu sent to 919094995418
2025-01-22 22:15:51 [INFO]: user Id: 1
2025-01-22 22:15:55 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-22 22:15:55 [DEBUG]: Message type: interactive
2025-01-22 22:15:55 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:15:55 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:15:55 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:15:55 [INFO]: Query results:
2025-01-22 22:15:55 [INFO]: Handling user view for: 919094995418
2025-01-22 22:15:55 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:15:55 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-22 22:15:55 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:15:55 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-22 22:15:55 [INFO]: Appointment id: 27
2025-01-22 22:15:55 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-22 22:15:55 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-22 22:15:55 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:55 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:55 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:55 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-22 22:15:55 [INFO]: Radio button message sent successfully
2025-01-22 22:15:56 [INFO]: Interactive message sent successfully
2025-01-22 22:15:56 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:01 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-01-22 22:16:01 [DEBUG]: Message type: interactive
2025-01-22 22:16:01 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:01 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:01 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:01 [INFO]: Query results:
2025-01-22 22:16:01 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:01 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:01 [INFO]: Title: Direct Consultation ID: 1~6~undefined~27,1~1~1
2025-01-22 22:16:01 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:01 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-22 22:16:01 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:01 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-22 22:16:01 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 27
2025-01-22 22:16:01 [DEBUG]: Executing query for Appointment_ID: 27, Column: Appointment_Type, Value: Direct Consultation
2025-01-22 22:16:01 [INFO]: Appointment updated successfully
2025-01-22 22:16:01 [INFO]: Appointment updated successfully
2025-01-22 22:16:01 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-22 22:16:01 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-22 22:16:01 [INFO]: Query results:
2025-01-22 22:16:02 [INFO]: Radio button message sent successfully
2025-01-22 22:16:02 [INFO]: Interactive message sent successfully
2025-01-22 22:16:02 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:07 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-01-22 22:16:07 [DEBUG]: Message type: interactive
2025-01-22 22:16:07 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:07 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:07 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:07 [INFO]: Query results:
2025-01-22 22:16:07 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:07 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:07 [INFO]: Title: Cardiology ID: 1~16~1~27,1~6~undefined
2025-01-22 22:16:07 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:07 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-22 22:16:07 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:07 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-22 22:16:07 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 27
2025-01-22 22:16:07 [DEBUG]: Executing query for Appointment_ID: 27, Key: Department
2025-01-22 22:16:07 [INFO]: JSON data updated successfully
2025-01-22 22:16:07 [INFO]: JSON data updated successfully
2025-01-22 22:16:07 [INFO]: Appointment updated successfully
2025-01-22 22:16:07 [DEBUG]: Executing query for Appointment_ID: 27, Key: Department
2025-01-22 22:16:07 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-22 22:16:07 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-22 22:16:07 [INFO]: Query results:
2025-01-22 22:16:07 [INFO]: Radio button message sent successfully
2025-01-22 22:16:08 [INFO]: Interactive message sent successfully
2025-01-22 22:16:08 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:13 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-01-22 22:16:13 [DEBUG]: Message type: interactive
2025-01-22 22:16:13 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:13 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:13 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:13 [INFO]: Query results:
2025-01-22 22:16:13 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:13 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:13 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~27,1~16~1
2025-01-22 22:16:13 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:13 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-22 22:16:13 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:13 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-22 22:16:13 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 27
2025-01-22 22:16:13 [DEBUG]: Executing query for Appointment_ID: 27, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-22 22:16:13 [INFO]: POC ID and JSON data updated successfully
2025-01-22 22:16:13 [INFO]: Appointment updated successfully
2025-01-22 22:16:13 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-22 22:16:13 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-22 22:16:14 [INFO]: Radio button message sent successfully
2025-01-22 22:16:14 [INFO]: Interactive message sent successfully
2025-01-22 22:16:14 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:19 [INFO]: Message received from: 919094995418, Content: 2025-01-23
2025-01-22 22:16:19 [DEBUG]: Message type: interactive
2025-01-22 22:16:19 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:19 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:19 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:19 [INFO]: Query results:
2025-01-22 22:16:19 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:19 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:19 [INFO]: Title: 2025-01-23 ID: 1~18~1-2025-01-23~27,1~17~1
2025-01-22 22:16:19 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:19 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-22 22:16:19 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:19 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-22 22:16:19 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-23 iSelectId: 1-2025-01-23 appointment_id: 27
2025-01-22 22:16:19 [DEBUG]: Executing query for Appointment_ID: 27, Column: Appointment_Date, Value: 2025-01-23
2025-01-22 22:16:19 [INFO]: Appointment updated successfully
2025-01-22 22:16:19 [INFO]: Appointment updated successfully
2025-01-22 22:16:19 [DEBUG]: Executing query for Appointment_ID: 27, Key: Appointment_Date
2025-01-22 22:16:19 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-23, iValue: 2025-01-23
2025-01-22 22:16:19 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-23, Schedule_Date: 2025-01-23
2025-01-22 22:16:20 [INFO]: Radio button message sent successfully
2025-01-22 22:16:20 [INFO]: Interactive message sent successfully
2025-01-22 22:16:20 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:26 [INFO]: Message received from: 919094995418, Content: 10:30:00
2025-01-22 22:16:26 [DEBUG]: Message type: interactive
2025-01-22 22:16:26 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:26 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:26 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:26 [INFO]: Query results:
2025-01-22 22:16:26 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:26 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:26 [INFO]: Title: 10:30:00 ID: 1~19~1-2025-01-23-10:30:00~27,1~18~1-2025-01-23
2025-01-22 22:16:26 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:26 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-22 22:16:26 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:26 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-22 22:16:26 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:10:30:00 iSelectId: 1-2025-01-23-10:30:00 appointment_id: 27
2025-01-22 22:16:26 [DEBUG]: Executing query for Appointment_ID: 27, Column: Appointment_Time, Value: 10:30:00
2025-01-22 22:16:26 [INFO]: Appointment updated successfully
2025-01-22 22:16:26 [INFO]: Appointment updated successfully
2025-01-22 22:16:26 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-22 22:16:26 [DEBUG]: Executing query for Appointment_ID: 27
2025-01-22 22:16:26 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:16:26 [INFO]: Message sent successfully
2025-01-22 22:16:27 [INFO]: Radio button message sent successfully
2025-01-22 22:16:28 [INFO]: Interactive message sent successfully
2025-01-22 22:16:28 [INFO]: Back button sent to 919094995418
2025-01-22 22:16:33 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-22 22:16:33 [DEBUG]: Message type: interactive
2025-01-22 22:16:33 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:33 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:33 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:33 [INFO]: Query results:
2025-01-22 22:16:33 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:33 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:33 [INFO]: Title: Confirm ID: 1~20~Confirm~27,1~19~1-2025-01-23-10:30:00
2025-01-22 22:16:33 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:33 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-22 22:16:33 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:33 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-22 22:16:33 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 27
2025-01-22 22:16:33 [DEBUG]: Executing query for Appointment_ID: 27, Key: Confirm_Status
2025-01-22 22:16:33 [INFO]: JSON data updated successfully
2025-01-22 22:16:33 [INFO]: JSON data updated successfully
2025-01-22 22:16:33 [INFO]: Appointment updated successfully
2025-01-22 22:16:34 [INFO]: Message sent successfully
2025-01-22 22:16:34 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-22 22:16:35 [INFO]: Message sent successfully
2025-01-22 22:16:35 [INFO]: Message sent successfully
2025-01-22 22:16:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:16:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:16:36 [INFO]: Interactive message sent successfully
2025-01-22 22:16:39 [INFO]: Message received from: 919094995418, Content: Finalize
2025-01-22 22:16:39 [DEBUG]: Message type: interactive
2025-01-22 22:16:39 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-22 22:16:39 [INFO]: getFromPOC: from:919094995418
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-22 22:16:39 [INFO]: Query results:
2025-01-22 22:16:39 [INFO]: Handling user view for: 919094995418
2025-01-22 22:16:39 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-22 22:16:39 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PmYml6dn62McDf~27,1~21~Confirm
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-22 22:16:39 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-22 22:16:39 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-22 22:16:39 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PmYml6dn62McDf appointment_id: 27
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27, Key: Finalize_Status
2025-01-22 22:16:39 [INFO]: JSON data updated successfully
2025-01-22 22:16:39 [INFO]: JSON data updated successfully
2025-01-22 22:16:39 [INFO]: Appointment updated successfully
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27, Column: Payment_Status, Value: Pay_later
2025-01-22 22:16:39 [INFO]: Appointment updated successfully
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27, Column: Status, Value: Confirmed
2025-01-22 22:16:39 [INFO]: Appointment updated successfully
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27, Column: Is_Active, Value: 1
2025-01-22 22:16:39 [INFO]: Appointment updated successfully
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27
2025-01-22 22:16:39 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:16:39 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-23",
  "Appointment_Time": "10:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-22 22:16:39 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-23, Start_Time: 10:30:00
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27
2025-01-22 22:16:39 [INFO]: [object Object]
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-22 22:16:39 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:16:39 [INFO]: Message sent successfully
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27
2025-01-22 22:16:39 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-22 22:16:39 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:16:39 [DEBUG]: Executing query for Appointment_ID: 27
2025-01-22 22:16:39 [DEBUG]: Executing query for POC_ID: 1
2025-01-22 22:16:40 [INFO]: Message sent successfully
2025-01-22 22:16:40 [INFO]: Appointment confirmed successfully
2025-01-28 11:09:12 [INFO]:  connected to MySQL database.
2025-01-28 11:09:12 [INFO]: Server is running on http://localhost:6000
2025-01-28 11:11:10 [INFO]: Webhook verified successfully.
2025-01-28 11:11:54 [INFO]: Message received from: 919094995418, Content: hi
2025-01-28 11:11:54 [DEBUG]: Message type: text
2025-01-28 11:11:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:11:54 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:11:54 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:11:54 [INFO]: Query results:
2025-01-28 11:11:54 [INFO]: Handling user view for: 919094995418
2025-01-28 11:11:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:11:54 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:11:54 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:11:56 [INFO]: Message sent successfully
2025-01-28 11:11:56 [INFO]: Welcome message sent to 919094995418
2025-01-28 11:11:56 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-01-28 11:11:56 [INFO]: Query executed successfully. 3 row(s) returned.
2025-01-28 11:11:56 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-01-28 11:11:56 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:11:56 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:11:58 [DEBUG]: Image uploaded successfully:
2025-01-28 11:11:59 [INFO]: Interactive message sent successfully
2025-01-28 11:11:59 [INFO]: Main menu sent to 919094995418
2025-01-28 11:11:59 [INFO]: user Id: 1
2025-01-28 11:12:03 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-01-28 11:12:03 [DEBUG]: Message type: interactive
2025-01-28 11:12:03 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:03 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:03 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:03 [INFO]: Query results:
2025-01-28 11:12:03 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:03 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:03 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-01-28 11:12:03 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:03 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-01-28 11:12:03 [INFO]: Appointment id: 29
2025-01-28 11:12:03 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-01-28 11:12:03 [INFO]: Query executed successfully. 4 row(s) returned.
2025-01-28 11:12:03 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:12:03 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:12:03 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:12:03 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-01-28 11:12:04 [INFO]: Radio button message sent successfully
2025-01-28 11:12:05 [INFO]: Interactive message sent successfully
2025-01-28 11:12:05 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:10 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-01-28 11:12:10 [DEBUG]: Message type: interactive
2025-01-28 11:12:10 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:10 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:10 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:10 [INFO]: Query results:
2025-01-28 11:12:10 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:10 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:10 [INFO]: Title: Direct Consultation ID: 1~6~undefined~29,1~1~1
2025-01-28 11:12:10 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:10 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-01-28 11:12:10 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:10 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-01-28 11:12:10 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 29
2025-01-28 11:12:10 [DEBUG]: Executing query for Appointment_ID: 29, Column: Appointment_Type, Value: Direct Consultation
2025-01-28 11:12:10 [INFO]: Appointment updated successfully
2025-01-28 11:12:10 [INFO]: Appointment updated successfully
2025-01-28 11:12:10 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-01-28 11:12:10 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-01-28 11:12:10 [INFO]: Query results:
2025-01-28 11:12:11 [INFO]: Radio button message sent successfully
2025-01-28 11:12:11 [INFO]: Interactive message sent successfully
2025-01-28 11:12:11 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:18 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-01-28 11:12:18 [DEBUG]: Message type: interactive
2025-01-28 11:12:18 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:18 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:18 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:18 [INFO]: Query results:
2025-01-28 11:12:18 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:18 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:18 [INFO]: Title: Cardiology ID: 1~16~1~29,1~6~undefined
2025-01-28 11:12:18 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:18 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-01-28 11:12:18 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:18 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-01-28 11:12:18 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 29
2025-01-28 11:12:18 [DEBUG]: Executing query for Appointment_ID: 29, Key: Department
2025-01-28 11:12:18 [INFO]: JSON data updated successfully
2025-01-28 11:12:18 [INFO]: JSON data updated successfully
2025-01-28 11:12:18 [INFO]: Appointment updated successfully
2025-01-28 11:12:18 [DEBUG]: Executing query for Appointment_ID: 29, Key: Department
2025-01-28 11:12:18 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-01-28 11:12:18 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-01-28 11:12:18 [INFO]: Query results:
2025-01-28 11:12:19 [INFO]: Radio button message sent successfully
2025-01-28 11:12:19 [INFO]: Interactive message sent successfully
2025-01-28 11:12:19 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:25 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-01-28 11:12:25 [DEBUG]: Message type: interactive
2025-01-28 11:12:25 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:25 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:25 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:25 [INFO]: Query results:
2025-01-28 11:12:25 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:25 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:25 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~29,1~16~1
2025-01-28 11:12:25 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:25 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-01-28 11:12:25 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:25 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-01-28 11:12:25 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 29
2025-01-28 11:12:25 [DEBUG]: Executing query for Appointment_ID: 29, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-01-28 11:12:25 [INFO]: POC ID and JSON data updated successfully
2025-01-28 11:12:25 [INFO]: Appointment updated successfully
2025-01-28 11:12:25 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-01-28 11:12:25 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-01-28 11:12:26 [INFO]: Radio button message sent successfully
2025-01-28 11:12:26 [INFO]: Interactive message sent successfully
2025-01-28 11:12:26 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:32 [INFO]: Message received from: 919094995418, Content: 2025-01-28
2025-01-28 11:12:32 [DEBUG]: Message type: interactive
2025-01-28 11:12:32 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:32 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:32 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:32 [INFO]: Query results:
2025-01-28 11:12:32 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:32 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:32 [INFO]: Title: 2025-01-28 ID: 1~18~1-2025-01-28~29,1~17~1
2025-01-28 11:12:32 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:32 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-01-28 11:12:32 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:32 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-01-28 11:12:32 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-01-28 iSelectId: 1-2025-01-28 appointment_id: 29
2025-01-28 11:12:32 [DEBUG]: Executing query for Appointment_ID: 29, Column: Appointment_Date, Value: 2025-01-28
2025-01-28 11:12:32 [INFO]: Appointment updated successfully
2025-01-28 11:12:32 [INFO]: Appointment updated successfully
2025-01-28 11:12:32 [DEBUG]: Executing query for Appointment_ID: 29, Key: Appointment_Date
2025-01-28 11:12:32 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-01-28, iValue: 2025-01-28
2025-01-28 11:12:32 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-01-28, Schedule_Date: 2025-01-28
2025-01-28 11:12:33 [INFO]: Radio button message sent successfully
2025-01-28 11:12:33 [INFO]: Interactive message sent successfully
2025-01-28 11:12:33 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:43 [INFO]: Message received from: 919094995418, Content: 11:30:00
2025-01-28 11:12:43 [DEBUG]: Message type: interactive
2025-01-28 11:12:43 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:43 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:43 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:43 [INFO]: Query results:
2025-01-28 11:12:43 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:43 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:43 [INFO]: Title: 11:30:00 ID: 1~19~1-2025-01-28-11:30:00~29,1~18~1-2025-01-28
2025-01-28 11:12:43 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:43 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-01-28 11:12:43 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:43 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-01-28 11:12:43 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:11:30:00 iSelectId: 1-2025-01-28-11:30:00 appointment_id: 29
2025-01-28 11:12:43 [DEBUG]: Executing query for Appointment_ID: 29, Column: Appointment_Time, Value: 11:30:00
2025-01-28 11:12:43 [INFO]: Appointment updated successfully
2025-01-28 11:12:43 [INFO]: Appointment updated successfully
2025-01-28 11:12:43 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-01-28 11:12:43 [DEBUG]: Executing query for Appointment_ID: 29
2025-01-28 11:12:43 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-01-28",
  "Appointment_Time": "11:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-28 11:12:43 [INFO]: Message sent successfully
2025-01-28 11:12:44 [INFO]: Radio button message sent successfully
2025-01-28 11:12:45 [INFO]: Interactive message sent successfully
2025-01-28 11:12:45 [INFO]: Back button sent to 919094995418
2025-01-28 11:12:51 [INFO]: Message received from: 919094995418, Content: Confirm
2025-01-28 11:12:51 [DEBUG]: Message type: interactive
2025-01-28 11:12:51 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:12:51 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:12:51 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:12:51 [INFO]: Query results:
2025-01-28 11:12:51 [INFO]: Handling user view for: 919094995418
2025-01-28 11:12:51 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:12:51 [INFO]: Title: Confirm ID: 1~20~Confirm~29,1~19~1-2025-01-28-11:30:00
2025-01-28 11:12:51 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:12:51 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-01-28 11:12:51 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:51 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-01-28 11:12:51 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 29
2025-01-28 11:12:51 [DEBUG]: Executing query for Appointment_ID: 29, Key: Confirm_Status
2025-01-28 11:12:51 [INFO]: JSON data updated successfully
2025-01-28 11:12:51 [INFO]: JSON data updated successfully
2025-01-28 11:12:51 [INFO]: Appointment updated successfully
2025-01-28 11:12:53 [INFO]: Message sent successfully
2025-01-28 11:12:53 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-01-28 11:12:54 [INFO]: Message sent successfully
2025-01-28 11:12:55 [INFO]: Message sent successfully
2025-01-28 11:12:55 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-28 11:12:55 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:12:55 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-28 11:12:56 [INFO]: Interactive message sent successfully
2025-01-28 11:13:01 [INFO]: Message received from: 919094995418, Content: Finalize
2025-01-28 11:13:01 [DEBUG]: Message type: interactive
2025-01-28 11:13:01 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-01-28 11:13:01 [INFO]: getFromPOC: from:919094995418
2025-01-28 11:13:01 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-01-28 11:13:01 [INFO]: Query results:
2025-01-28 11:13:01 [INFO]: Handling user view for: 919094995418
2025-01-28 11:13:01 [DEBUG]: Executing query for User_Contact: 919094995418
2025-01-28 11:13:01 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PokgPb3LED32Tr~29,1~21~Confirm
2025-01-28 11:13:01 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:13:01 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-01-28 11:13:01 [INFO]: Query executed successfully. 1 row(s) returned.
2025-01-28 11:13:01 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-01-28 11:13:01 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PokgPb3LED32Tr appointment_id: 29
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29, Key: Finalize_Status
2025-01-28 11:13:01 [INFO]: JSON data updated successfully
2025-01-28 11:13:01 [INFO]: JSON data updated successfully
2025-01-28 11:13:01 [INFO]: Appointment updated successfully
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29, Column: Payment_Status, Value: Pay_later
2025-01-28 11:13:01 [INFO]: Appointment updated successfully
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29, Column: Status, Value: Confirmed
2025-01-28 11:13:01 [INFO]: Appointment updated successfully
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29, Column: Is_Active, Value: 1
2025-01-28 11:13:01 [INFO]: Appointment updated successfully
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29
2025-01-28 11:13:01 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-28",
  "Appointment_Time": "11:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-28 11:13:01 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-01-28",
  "Appointment_Time": "11:30:00",
  "Appointment_Type": "Direct Consultation"
}
2025-01-28 11:13:01 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-01-28, Start_Time: 11:30:00
2025-01-28 11:13:01 [DEBUG]: Executing query for Client_ID: 1
2025-01-28 11:13:01 [DEBUG]: Executing query for Appointment_ID: 29
2025-01-28 11:13:01 [INFO]: [object Object]
2025-01-28 11:13:01 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-01-28 11:13:01 [DEBUG]: Executing query for POC_ID: 1
2025-01-28 11:13:02 [INFO]: Message sent successfully
2025-01-28 11:13:02 [DEBUG]: Executing query for Appointment_ID: 29
2025-01-28 11:13:02 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-01-28 11:13:02 [DEBUG]: Executing query for POC_ID: 1
2025-01-28 11:13:02 [DEBUG]: Executing query for Appointment_ID: 29
2025-01-28 11:13:02 [DEBUG]: Executing query for POC_ID: 1
2025-01-28 11:13:03 [INFO]: Message sent successfully
2025-01-28 11:13:03 [INFO]: Appointment confirmed successfully
2025-01-28 11:15:02 [DEBUG]: Executing query for Client_ID: 1, Template_Name: USER_APPT_REMINDER
2025-01-28 11:15:02 [DEBUG]: Executing query for Client_ID: 1, Template_Name: POC_APPT_REMINDER
2025-02-01 12:11:58 [INFO]:  connected to MySQL database.
2025-02-01 12:11:58 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:11:58 [ERROR]: Error connecting to MySQL: Access denied for user ''@'localhost' (using password: NO)
2025-02-01 12:12:03 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:12:03 [DEBUG]: Message type: text
2025-02-01 12:12:03 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:12:28 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:12:28 [DEBUG]: Message type: text
2025-02-01 12:12:28 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:12:54 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:12:54 [DEBUG]: Message type: text
2025-02-01 12:12:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:12:55 [INFO]:  connected to MySQL database.
2025-02-01 12:12:55 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:12:56 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:12:56 [DEBUG]: Message type: text
2025-02-01 12:12:56 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:12:57 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:12:57 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:12:57 [INFO]: Query results:
2025-02-01 12:12:57 [INFO]: Handling user view for: 919094995418
2025-02-01 12:12:57 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:12:57 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:12:57 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:12:58 [INFO]: Message sent successfully
2025-02-01 12:12:58 [INFO]: Welcome message sent to 919094995418
2025-02-01 12:12:58 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-02-01 12:12:58 [INFO]: Query executed successfully. 3 row(s) returned.
2025-02-01 12:23:37 [INFO]:  connected to MySQL database.
2025-02-01 12:23:37 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:23:42 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:23:42 [DEBUG]: Message type: text
2025-02-01 12:23:42 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:23:42 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:23:42 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:23:42 [INFO]: Query results:
2025-02-01 12:23:42 [INFO]: Handling user view for: 919094995418
2025-02-01 12:23:42 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:23:42 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:23:42 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:23:43 [INFO]: Message sent successfully
2025-02-01 12:26:00 [INFO]:  connected to MySQL database.
2025-02-01 12:26:00 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:26:04 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:26:04 [DEBUG]: Message type: text
2025-02-01 12:26:04 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:26:04 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:26:04 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:26:04 [INFO]: Query results:
2025-02-01 12:26:04 [INFO]: Handling user view for: 919094995418
2025-02-01 12:26:04 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:26:04 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:26:04 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:26:05 [INFO]: Message sent successfully
2025-02-01 12:34:28 [INFO]:  connected to MySQL database.
2025-02-01 12:34:28 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:34:34 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:34:34 [DEBUG]: Message type: text
2025-02-01 12:34:34 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:34:34 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:34:34 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:34:34 [INFO]: Query results:
2025-02-01 12:34:34 [INFO]: Handling user view for: 919094995418
2025-02-01 12:34:34 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:34:34 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:34:34 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:34:35 [INFO]: Message sent successfully
2025-02-01 12:34:35 [INFO]: Welcome message sent to 919094995418
2025-02-01 12:34:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2025-02-01 12:34:35 [INFO]: Query executed successfully. 3 row(s) returned.
2025-02-01 12:34:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2025-02-01 12:34:35 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:35 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:37 [DEBUG]: Image uploaded successfully:
2025-02-01 12:34:38 [INFO]: Interactive message sent successfully
2025-02-01 12:34:38 [INFO]: Main menu sent to 919094995418
2025-02-01 12:34:38 [INFO]: user Id: 1
2025-02-01 12:34:54 [INFO]: Message received from: 919094995418, Content: Book Appointment
2025-02-01 12:34:54 [DEBUG]: Message type: interactive
2025-02-01 12:34:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:34:54 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:34:54 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:34:54 [INFO]: Query results:
2025-02-01 12:34:54 [INFO]: Handling user view for: 919094995418
2025-02-01 12:34:54 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:34:54 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2025-02-01 12:34:54 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:34:54 [DEBUG]: Executing query for Client_ID: 1, User_ID: 1
2025-02-01 12:34:54 [INFO]: Appointment id: 30
2025-02-01 12:34:54 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2025-02-01 12:34:54 [INFO]: Query executed successfully. 4 row(s) returned.
2025-02-01 12:34:54 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:54 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:54 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:54 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2025-02-01 12:34:54 [INFO]: Radio button message sent successfully
2025-02-01 12:34:55 [INFO]: Interactive message sent successfully
2025-02-01 12:34:55 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:00 [INFO]: Message received from: 919094995418, Content: Direct Consultation
2025-02-01 12:35:00 [DEBUG]: Message type: interactive
2025-02-01 12:35:00 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:00 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:00 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:00 [INFO]: Query results:
2025-02-01 12:35:00 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:00 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:00 [INFO]: Title: Direct Consultation ID: 1~6~undefined~30,1~1~1
2025-02-01 12:35:00 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:00 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 6
2025-02-01 12:35:00 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:00 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":16,"MENU_NAME":"Show Department List","HEADER_MESSAGE":"Select the Department","ACTION":"Appointment_Type~LIST~DEPARTMENT"}
2025-02-01 12:35:00 [INFO]: handleAction: iAction:Appointment_Type,LIST,DEPARTMENT ,iClientID:1 ,iMenuId:16, iUserValue:Direct Consultation iSelectId: undefined appointment_id: 30
2025-02-01 12:35:00 [DEBUG]: Executing query for Appointment_ID: 30, Column: Appointment_Type, Value: Direct Consultation
2025-02-01 12:35:00 [INFO]: Appointment updated successfully
2025-02-01 12:35:00 [INFO]: Appointment updated successfully
2025-02-01 12:35:00 [INFO]: getFromList: iClientId:1 , iMenuId:16 ,iKey:DEPARTMENT , iLang:ENG
2025-02-01 12:35:00 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 16, Key_name: DEPARTMENT, Lang: ENG
2025-02-01 12:35:00 [INFO]: Query results:
2025-02-01 12:35:01 [INFO]: Radio button message sent successfully
2025-02-01 12:35:01 [INFO]: Interactive message sent successfully
2025-02-01 12:35:01 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:08 [INFO]: Message received from: 919094995418, Content: Cardiology
2025-02-01 12:35:08 [DEBUG]: Message type: interactive
2025-02-01 12:35:08 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:08 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:08 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:08 [INFO]: Query results:
2025-02-01 12:35:08 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:08 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:08 [INFO]: Title: Cardiology ID: 1~16~1~30,1~6~undefined
2025-02-01 12:35:08 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:08 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 16
2025-02-01 12:35:08 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:08 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":17,"MENU_NAME":"Select Doctor Direct","HEADER_MESSAGE":"Select the doctor","ACTION":"Department~POC~Specialization"}
2025-02-01 12:35:08 [INFO]: handleAction: iAction:Department,POC,Specialization ,iClientID:1 ,iMenuId:17, iUserValue:Cardiology iSelectId: 1 appointment_id: 30
2025-02-01 12:35:08 [DEBUG]: Executing query for Appointment_ID: 30, Key: Department
2025-02-01 12:35:08 [INFO]: JSON data updated successfully
2025-02-01 12:35:08 [INFO]: JSON data updated successfully
2025-02-01 12:35:08 [INFO]: Appointment updated successfully
2025-02-01 12:35:08 [DEBUG]: Executing query for Appointment_ID: 30, Key: Department
2025-02-01 12:35:08 [INFO]: getFromPOC: iClientId:1 , iMenuId:17 ,iKey:Cardiology
2025-02-01 12:35:08 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 17, Specialization: Cardiology
2025-02-01 12:35:08 [INFO]: Query results:
2025-02-01 12:35:08 [INFO]: Radio button message sent successfully
2025-02-01 12:35:09 [INFO]: Interactive message sent successfully
2025-02-01 12:35:09 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:15 [INFO]: Message received from: 919094995418, Content: Dr. Harry Smith
2025-02-01 12:35:15 [DEBUG]: Message type: interactive
2025-02-01 12:35:15 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:15 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:15 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:15 [INFO]: Query results:
2025-02-01 12:35:15 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:15 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:15 [INFO]: Title: Dr. Harry Smith ID: 1~17~1~30,1~16~1
2025-02-01 12:35:15 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:15 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 17
2025-02-01 12:35:15 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:15 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":18,"MENU_NAME":"Select Date Direct","HEADER_MESSAGE":"Select the date","ACTION":"Poc_name~FETCH_AVAILABLE_DATES_DIRECT"}
2025-02-01 12:35:15 [INFO]: handleAction: iAction:Poc_name,FETCH_AVAILABLE_DATES_DIRECT ,iClientID:1 ,iMenuId:18, iUserValue:Dr. Harry Smith iSelectId: 1 appointment_id: 30
2025-02-01 12:35:15 [DEBUG]: Executing query for Appointment_ID: 30, POC_ID: 1, Poc_name: Dr. Harry Smith
2025-02-01 12:35:15 [INFO]: POC ID and JSON data updated successfully
2025-02-01 12:35:15 [INFO]: Appointment updated successfully
2025-02-01 12:35:15 [DEBUG]: Executing query for Client_ID: 1, Specialization: 1
2025-02-01 12:35:15 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 18, POC_ID: 1
2025-02-01 12:35:16 [INFO]: Radio button message sent successfully
2025-02-01 12:35:16 [INFO]: Interactive message sent successfully
2025-02-01 12:35:16 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:26 [INFO]: Message received from: 919094995418, Content: 2025-02-03
2025-02-01 12:35:26 [DEBUG]: Message type: interactive
2025-02-01 12:35:26 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:26 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:26 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:26 [INFO]: Query results:
2025-02-01 12:35:26 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:26 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:26 [INFO]: Title: 2025-02-03 ID: 1~18~1-2025-02-03~30,1~17~1
2025-02-01 12:35:26 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:26 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 18
2025-02-01 12:35:26 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:26 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":19,"MENU_NAME":"Select Time Direct","HEADER_MESSAGE":"Select the time","ACTION":"Appointment_Date~FETCH_AVAILABLE_TIMES_DIRECT"}
2025-02-01 12:35:26 [INFO]: handleAction: iAction:Appointment_Date,FETCH_AVAILABLE_TIMES_DIRECT ,iClientID:1 ,iMenuId:19, iUserValue:2025-02-03 iSelectId: 1-2025-02-03 appointment_id: 30
2025-02-01 12:35:26 [DEBUG]: Executing query for Appointment_ID: 30, Column: Appointment_Date, Value: 2025-02-03
2025-02-01 12:35:26 [INFO]: Appointment updated successfully
2025-02-01 12:35:26 [INFO]: Appointment updated successfully
2025-02-01 12:35:26 [DEBUG]: Executing query for Appointment_ID: 30, Key: Appointment_Date
2025-02-01 12:35:26 [INFO]: getAvailableTimes: iClientId:1 ,iMenuId: 19, iKey: 1-2025-02-03, iValue: 2025-02-03
2025-02-01 12:35:26 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 19, POC_ID: 1-2025-02-03, Schedule_Date: 2025-02-03
2025-02-01 12:35:27 [INFO]: Radio button message sent successfully
2025-02-01 12:35:27 [INFO]: Interactive message sent successfully
2025-02-01 12:35:27 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:35 [INFO]: Message received from: 919094995418, Content: 10:00:00
2025-02-01 12:35:35 [DEBUG]: Message type: interactive
2025-02-01 12:35:35 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:35 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:35 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:35 [INFO]: Query results:
2025-02-01 12:35:35 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:35 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:35 [INFO]: Title: 10:00:00 ID: 1~19~1-2025-02-03-10:00:00~30,1~18~1-2025-02-03
2025-02-01 12:35:35 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:35 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 19
2025-02-01 12:35:35 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:35 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":20,"MENU_NAME":"Confirm Direct Appointment","HEADER_MESSAGE":"Please confirm your details.","ACTION":"Appointment_Time~CONFIRM~CONFIRM_DIRECT"}
2025-02-01 12:35:35 [INFO]: handleAction: iAction:Appointment_Time,CONFIRM,CONFIRM_DIRECT ,iClientID:1 ,iMenuId:20, iUserValue:10:00:00 iSelectId: 1-2025-02-03-10:00:00 appointment_id: 30
2025-02-01 12:35:35 [DEBUG]: Executing query for Appointment_ID: 30, Column: Appointment_Time, Value: 10:00:00
2025-02-01 12:35:36 [INFO]: Appointment updated successfully
2025-02-01 12:35:36 [INFO]: Appointment updated successfully
2025-02-01 12:35:36 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_DIRECT
2025-02-01 12:35:36 [DEBUG]: Executing query for Appointment_ID: 30
2025-02-01 12:35:36 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Poc_name": "Dr. Harry Smith",
  "Department": "Cardiology",
  "Appointment_Date": "2025-02-03",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-02-01 12:35:36 [INFO]: Message sent successfully
2025-02-01 12:35:37 [INFO]: Radio button message sent successfully
2025-02-01 12:35:38 [INFO]: Interactive message sent successfully
2025-02-01 12:35:38 [INFO]: Back button sent to 919094995418
2025-02-01 12:35:43 [INFO]: Message received from: 919094995418, Content: Confirm
2025-02-01 12:35:43 [DEBUG]: Message type: interactive
2025-02-01 12:35:43 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:43 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:43 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:43 [INFO]: Query results:
2025-02-01 12:35:43 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:43 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:43 [INFO]: Title: Confirm ID: 1~20~Confirm~30,1~19~1-2025-02-03-10:00:00
2025-02-01 12:35:43 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:43 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 20
2025-02-01 12:35:43 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:43 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":21,"MENU_NAME":"Make Payment for Direct","HEADER_MESSAGE":"Please make a payment to confirm your Direct appointment","ACTION":"Confirm_Status~PAYMENT~PAYMENT_DIRECT"}
2025-02-01 12:35:43 [INFO]: handleAction: iAction:Confirm_Status,PAYMENT,PAYMENT_DIRECT ,iClientID:1 ,iMenuId:21, iUserValue:Confirm iSelectId: Confirm appointment_id: 30
2025-02-01 12:35:43 [DEBUG]: Executing query for Appointment_ID: 30, Key: Confirm_Status
2025-02-01 12:35:43 [INFO]: JSON data updated successfully
2025-02-01 12:35:43 [INFO]: JSON data updated successfully
2025-02-01 12:35:43 [INFO]: Appointment updated successfully
2025-02-01 12:35:45 [INFO]: Message sent successfully
2025-02-01 12:35:45 [DEBUG]: Executing query for Client_ID: 1, Template_Name: PAYMENT
2025-02-01 12:35:45 [INFO]: Message sent successfully
2025-02-01 12:35:46 [INFO]: Message sent successfully
2025-02-01 12:35:46 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-02-01 12:35:46 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:46 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-02-01 12:35:47 [INFO]: Interactive message sent successfully
2025-02-01 12:35:50 [INFO]: Message received from: 919094995418, Content: Finalize
2025-02-01 12:35:50 [DEBUG]: Message type: interactive
2025-02-01 12:35:50 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:35:50 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:35:50 [INFO]: Query results:
2025-02-01 12:35:50 [INFO]: Handling user view for: 919094995418
2025-02-01 12:35:50 [DEBUG]: Executing query for User_Contact: 919094995418
2025-02-01 12:35:50 [INFO]: Title: Finalize ID: 1~21~Finalize*plink_PqMEN7M3dnODQz~30,1~21~Confirm
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 21
2025-02-01 12:35:50 [INFO]: Query executed successfully. 1 row(s) returned.
2025-02-01 12:35:50 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":22,"MENU_NAME":"Finalize Direct Appointment","HEADER_MESSAGE":"Please choose finalize to finalize your appointment","ACTION":"Finalize_Status~FINALIZE~FINALIZE_DIRECT"}
2025-02-01 12:35:50 [INFO]: handleAction: iAction:Finalize_Status,FINALIZE,FINALIZE_DIRECT ,iClientID:1 ,iMenuId:22, iUserValue:Finalize iSelectId: Finalize*plink_PqMEN7M3dnODQz appointment_id: 30
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30, Key: Finalize_Status
2025-02-01 12:35:50 [INFO]: JSON data updated successfully
2025-02-01 12:35:50 [INFO]: JSON data updated successfully
2025-02-01 12:35:50 [INFO]: Appointment updated successfully
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30, Column: Payment_Status, Value: Pay_later
2025-02-01 12:35:50 [INFO]: Appointment updated successfully
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30, Column: Status, Value: Confirmed
2025-02-01 12:35:50 [INFO]: Appointment updated successfully
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30, Column: Is_Active, Value: 1
2025-02-01 12:35:50 [INFO]: Appointment updated successfully
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30
2025-02-01 12:35:50 [INFO]: JSON Data: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-03",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-02-01 12:35:50 [INFO]: updateAvailableSlots: {
  "Poc_ID": "1",
  "Status": "Confirmed",
  "Poc_name": "Dr. Harry Smith",
  "Is_Active": 1,
  "Department": "Cardiology",
  "Confirm_Status": "Confirm",
  "Payment_Status": "Pay_later",
  "Finalize_Status": "Finalize",
  "Appointment_Date": "2025-02-03",
  "Appointment_Time": "10:00:00",
  "Appointment_Type": "Direct Consultation"
}
2025-02-01 12:35:50 [DEBUG]: Executing query for POC_ID: 1, Schedule_Date: 2025-02-03, Start_Time: 10:00:00
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30
2025-02-01 12:35:50 [INFO]: [object Object]
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_DIRECT
2025-02-01 12:35:50 [DEBUG]: Executing query for POC_ID: 1
2025-02-01 12:35:50 [INFO]: Message sent successfully
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30
2025-02-01 12:35:50 [DEBUG]: Executing query for Client_ID: 1, Template_Name: APPOINTMENT_CONFIRMATION_DIRECT
2025-02-01 12:35:50 [DEBUG]: Executing query for POC_ID: 1
2025-02-01 12:35:50 [DEBUG]: Executing query for Appointment_ID: 30
2025-02-01 12:35:50 [DEBUG]: Executing query for POC_ID: 1
2025-02-01 12:35:51 [INFO]: Message sent successfully
2025-02-01 12:35:51 [INFO]: Appointment confirmed successfully
2025-02-01 12:49:17 [INFO]:  connected to MySQL database.
2025-02-01 12:49:17 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:49:22 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:49:22 [DEBUG]: Message type: text
2025-02-01 12:49:22 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:49:22 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:49:22 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:49:22 [INFO]: Query results:
2025-02-01 12:49:22 [INFO]: Handling POC view for: 919094995418
2025-02-01 12:49:22 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:49:22 [DEBUG]: Client ID: 1
2025-02-01 12:49:22 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:49:22 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:49:22 [INFO]: Query results:
2025-02-01 12:49:22 [DEBUG]: POC Details: {"POC_ID":2,"POC_NAME":"Dr. Preet Jones"}
2025-02-01 12:49:22 [ERROR]: Error uploading image:
2025-02-01 12:49:22 [ERROR]: Error sending interactive message:
2025-02-01 12:49:22 [INFO]: Welcome message sent successfully
2025-02-01 12:49:30 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:49:30 [DEBUG]: Message type: text
2025-02-01 12:49:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:49:30 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:49:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:49:30 [INFO]: Query results:
2025-02-01 12:49:30 [INFO]: Handling POC view for: 919094995418
2025-02-01 12:49:30 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:49:30 [DEBUG]: Client ID: 1
2025-02-01 12:49:30 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:49:30 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:49:30 [INFO]: Query results:
2025-02-01 12:49:30 [DEBUG]: POC Details: {"POC_ID":2,"POC_NAME":"Dr. Preet Jones"}
2025-02-01 12:49:30 [ERROR]: Error uploading image:
2025-02-01 12:49:30 [ERROR]: Error sending interactive message:
2025-02-01 12:49:30 [INFO]: Welcome message sent successfully
2025-02-01 12:50:05 [INFO]:  connected to MySQL database.
2025-02-01 12:50:05 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:50:23 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:50:23 [DEBUG]: Message type: text
2025-02-01 12:50:23 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:50:23 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:50:23 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:50:23 [INFO]: Query results:
2025-02-01 12:50:23 [INFO]: Handling POC view for: 919094995418
2025-02-01 12:50:23 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:50:23 [DEBUG]: Client ID: 1
2025-02-01 12:50:23 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:50:23 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:50:23 [INFO]: Query results:
2025-02-01 12:50:23 [DEBUG]: POC Details: {"POC_ID":2,"POC_NAME":"Dr. Preet Jones"}
2025-02-01 12:50:23 [ERROR]: Error uploading image:
2025-02-01 12:50:23 [ERROR]: Error sending interactive message:
2025-02-01 12:50:23 [INFO]: Welcome message sent successfully
2025-02-01 12:52:33 [INFO]:  connected to MySQL database.
2025-02-01 12:52:33 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:52:41 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:52:41 [DEBUG]: Message type: text
2025-02-01 12:52:41 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:52:41 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:52:41 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:52:41 [INFO]: Query results:
2025-02-01 12:52:41 [INFO]: Handling POC view for: 919094995418
2025-02-01 12:52:41 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:52:41 [DEBUG]: Client ID: 1
2025-02-01 12:52:41 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:52:41 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:52:41 [INFO]: Query results:
2025-02-01 12:52:41 [DEBUG]: POC Details: {"POC_ID":2,"POC_NAME":"Dr. Preet Jones"}
2025-02-01 12:52:41 [ERROR]: Error uploading image:
2025-02-01 12:52:42 [ERROR]: Error sending interactive message:
2025-02-01 12:52:42 [INFO]: Welcome message sent successfully
2025-02-01 12:55:00 [INFO]:  connected to MySQL database.
2025-02-01 12:55:00 [INFO]: Server is running on http://localhost:6000
2025-02-01 12:55:07 [INFO]: Message received from: 919094995418, Content: hi
2025-02-01 12:55:07 [DEBUG]: Message type: text
2025-02-01 12:55:07 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:55:07 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:55:07 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:55:07 [INFO]: Query results:
2025-02-01 12:55:07 [INFO]: Handling POC view for: 919094995418
2025-02-01 12:55:07 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2025-02-01 12:55:07 [DEBUG]: Client ID: 1
2025-02-01 12:55:07 [INFO]: getFromPOC: from:919094995418
2025-02-01 12:55:07 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2025-02-01 12:55:07 [INFO]: Query results:
2025-02-01 12:55:07 [DEBUG]: POC Details: {"POC_ID":2,"POC_NAME":"Dr. Preet Jones"}
2025-02-01 12:55:09 [DEBUG]: Image uploaded successfully:
2025-02-01 12:55:10 [INFO]: Interactive message sent successfully
2025-02-01 12:55:10 [INFO]: Welcome message sent successfully
